(function(){define("libra/core/libra-namespace",[],function(){if(typeof Libra!=="object"){Libra={}}return Libra});define("librastandardlib/test-helpers/browser-globals/window",[],function(){return window});define("librastandardlib/id-utils/generateUUID",[],function(){"use strict";function generateUUID(){var d=(new Date).getTime();var uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==="x"?r:r&3|8).toString(16)});return uuid}return generateUUID});define("librastandardlib/url-utils/buildQueryString",[],function(){"use strict";function buildQueryString(params){var parts=[];for(var key in params){if(params.hasOwnProperty(key)){parts[parts.length]=encodeURIComponent(key)+"="+encodeURIComponent(params[key])}}return parts.join("&")}return buildQueryString});define("librastandardlib/url-utils/getQueryStringParam",[],function(){"use strict";function getQueryStringParam(name,querySrting){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var re=new RegExp("[\\?&]"+name+"=([^&#]*)");var res=re.exec(querySrting);if(res===null){return""}return decodeURIComponent(res[1].replace(/\+/g," "))}return getQueryStringParam});define("librastandardlib/compat/cover-console-log",[],function(){if(!window.console){console={log:function(){}}}return true});define("librastandardlib/logger/logger",["librastandardlib/test-helpers/browser-globals/window","librastandardlib/id-utils/generateUUID","librastandardlib/url-utils/buildQueryString","librastandardlib/url-utils/getQueryStringParam","librastandardlib/compat/cover-console-log"],function(window,generateUUID,buildQueryString,getQueryStringParam){"use strict";var Logger=function(){var LOG_LEVELS={info:{warn:true,error:true},warn:{error:true},error:{},debug:{info:true,warn:true,error:true}};var RAW_ENDPOINT="https://fls-na.amazon.com/1/aws-mktg/1/OE/";var AI_ENDPOINT="https://fls-na.amazon.com/1/action-impressions/1/OE/aws-mktg/action/";var COMMON_AI_PARAMS={marketplaceId:"A12QK8IU0H0XW5",requestId:"ABCDEFGHIJKLMNOPQRST",session:"123-1234567-1234567"};var DEFAULT_AI_UNITS="ms";var DEFAULT_AI_VALUE_SET="count";var AI_VALUE_SETS={count:{value:"1",units:"c"},timeSinceResponseEnd:{valueFunction:"getElapsedTimeSincePageLoad",units:"ms"}};var HOSTNAMES_TO_SERVICES=[{hostname:"console.aws.amazon.com",service:"console"},{hostname:"aws.amazon.com",service:"awsm"},{hostname:"www.amazonaws.cn",service:"cn"}];var LogType={RAW:"RAW",AI:"AI",LOCAL:"LOCAL"};var PlatformType={CMS:"CMS",DEFAULT:"DEFAULT"};var SERVICES_TO_PLATFORM_TYPES={awsm:PlatformType.CMS,cn:PlatformType.CMS,console:PlatformType.DEFAULT};var CONSOLE_SERVICE_NAME_PREFIX="console-";var SERVICE_NAME_REGEX=/console\.(aws\.amazon\.com|amazonaws\.cn)\/([a-z0-9]+)\//;var ALLOWED_HOSTNAME_SUFFIXES=["console.aws.amazon.com","console.amazonaws.cn"];var ALLOWED_EXACT_MATCH_HOSTNAMES={"aws.amazon.com":1,"www.amazonaws.cn":1};var pageRequestId=null;var instances={};function Logger(namespace,logLevel){if(instances.hasOwnProperty(namespace)){instances[namespace].logLevel=logLevel||instances[namespace].logLevel;return instances[namespace]}this.namespace=namespace;this.logLevel=logLevel||this.getLogLevelByQueryString();this.pageRequestId=this.getPageRequestId();this.dataSet=this.getDataSet();this.service=this.getService();this.instance=this.getInstance(this.service);this.longLanguage=this.getLongLanguage();this.client=this.getClient();this.host=this.getHost();instances[namespace]=this}Logger.prototype={constructor:Logger,getService:function(){if(typeof window.location.hostname!=="undefined"&&typeof window.location.pathname!=="undefined"){var consoleServiceNameMatch=(window.location.hostname+window.location.pathname).match(SERVICE_NAME_REGEX);if(consoleServiceNameMatch&&consoleServiceNameMatch.length===3){return CONSOLE_SERVICE_NAME_PREFIX+consoleServiceNameMatch[2]}}for(var i=0,len=HOSTNAMES_TO_SERVICES.length;i<len;i++){var hostname=HOSTNAMES_TO_SERVICES[i].hostname;var re=new RegExp(hostname+"\\/");if(re.test(window.location.hostname+"/")||re.test(window.location.pathname)||re.test(window.location.hash)){return HOSTNAMES_TO_SERVICES[i].service}}return"NA"},getHost:function(){if(typeof window.location.hostname!=="undefined"){var hostname=window.location.hostname;if(ALLOWED_EXACT_MATCH_HOSTNAMES.hasOwnProperty(hostname)){return hostname}for(var i=0;i<ALLOWED_HOSTNAME_SUFFIXES.length;i++){var currentHost=ALLOWED_HOSTNAME_SUFFIXES[i];var indexOf=hostname.indexOf(currentHost);var endsWithCurrentHost=indexOf>=0&&indexOf===hostname.length-currentHost.length;if(endsWithCurrentHost){return currentHost}}}return"NA"},getLongLanguage:function(){var langAttr=$("html").attr("lang");if(typeof langAttr!=="undefined"){return langAttr.replace("-","_")}return"NA"},getInstance:function(service){var platformType=PlatformType.DEFAULT;if(SERVICES_TO_PLATFORM_TYPES.hasOwnProperty(service)){platformType=SERVICES_TO_PLATFORM_TYPES[service]}if(platformType===PlatformType.CMS){if(window.location.pathname.indexOf(".html")===window.location.pathname.length-5){if(typeof AWS!=="undefined"&&"PageSettings"in AWS&&"logInstance"in AWS.PageSettings){return AWS.PageSettings.logInstance}return"NA"}return"LIVE"}return"LIVE"},getDataSet:function(){if(typeof AWS!=="undefined"&&"PageSettings"in AWS&&"logDataSet"in AWS.PageSettings){return AWS.PageSettings.logDataSet}return"NA"},getClient:function(){var re=new RegExp(/iPhone|iPod|iPad|Android|(?=.*\bAndroid\b)(?=.*\bMobile\b)|IEMobile|(?=.*\bWindows\b)(?=.*\bTouch\b)|Windows Phone|Opera Mini|(?=.*\bFirefox\b)(?=.*\bMobile\b)|BlackBerry|Nexus 7|BNTV250|Kindle Fire|Silk|webOS|GT-P1000/i);if(re.test(window.navigator.userAgent)){return"mobile"}return"dsk"},logAI:function(metric,params){params=params||{};var valueSet;if(params.hasOwnProperty("valueSet")){if(AI_VALUE_SETS.hasOwnProperty(params.valueSet)){valueSet=AI_VALUE_SETS[params.valueSet];params.units=valueSet.units;if(valueSet.hasOwnProperty("valueFunction")){params.value=this[valueSet.valueFunction]()}else{params.value=valueSet.value}}else{valueSet=AI_VALUE_SETS[DEFAULT_AI_VALUE_SET];params.value=valueSet.value;params.units=valueSet.units}}else if(!params.hasOwnProperty("value")){valueSet=AI_VALUE_SETS[DEFAULT_AI_VALUE_SET];params.value=valueSet.value;params.units=valueSet.units}if(!params.hasOwnProperty("units")){params.units=DEFAULT_AI_UNITS}var url=AI_ENDPOINT+metric+"@v="+encodeURIComponent(params.value)+":u="+encodeURIComponent(params.units);var standardParams={dataset:this.dataSet,instance:this.instance,service:this.service,marketplace:this.longLanguage,client:this.client,host:this.host};var queryStringParams=$.extend(standardParams,COMMON_AI_PARAMS);url+="?"+buildQueryString(queryStringParams);this.logUrl(url)},logRaw:function(logLevel,msg,currentTime,pageTime,customParams){var standardParams={cat:this.namespace,level:logLevel,msg:msg,currentTime:currentTime,pageTime:pageTime,pageRequestId:pageRequestId,page:window.location.toString()};var params=$.extend({},customParams,standardParams);var url=RAW_ENDPOINT+"?"+buildQueryString(params);this.logUrl(url)},logUrl:function(url){setTimeout(function(){(new Image).src=url},0);this._lastImageUrl=url},triggerEvent:function(logLevel,msg,currentTime,pageTime,customParams){var standardParams={cat:this.namespace,level:logLevel,msg:msg,currentTime:currentTime,pageTime:pageTime,pageRequestId:pageRequestId};var data=$.extend({},customParams,standardParams);$(document).trigger("custom_libra_logger_log-stream",data)},getLogLevelByQueryString:function(){var level=getQueryStringParam("debug"+this.namespace,window.location.search);if(level===""){return null}return level},getElapsedTimeSincePageLoad:function(){if("performance"in window&&"timing"in window.performance){return(new Date).getTime()-window.performance.timing.responseEnd}return-1},getPageRequestId:function(){pageRequestId=pageRequestId||generateUUID();return pageRequestId},_rawEndpoint:RAW_ENDPOINT,_aiEndpoint:AI_ENDPOINT};for(var level in LOG_LEVELS){if(LOG_LEVELS.hasOwnProperty(level)){(function(level){Logger.prototype[level]=function(msg,logType,params){logType=logType||"LOCAL";var currentTime=(new Date).getTime();var pageTime=this.getElapsedTimeSincePageLoad();var logLevelStr=level.toUpperCase();this.triggerEvent(logLevelStr,msg,currentTime,pageTime,params);if(logType===LogType.AI){this.logAI(msg,params)}else if(logType===LogType.RAW){this.logRaw(logLevelStr,msg,currentTime,pageTime,params)}if(this.logLevel!==null){if(level===this.logLevel||LOG_LEVELS[this.logLevel].hasOwnProperty(level)){if(LogType.hasOwnProperty(logType)){var out="["+logLevelStr+"]["+LogType[logType]+"] "+this.namespace+": "+msg+"; @"+pageTime+"ms";if(typeof params!=="undefined"){out+="; "+JSON.stringify(params)}console.log(out);this._lastConsoleLog=out}else{var args=Array.prototype.slice.call(arguments);var logObjPrefix="["+logLevelStr+"]["+LogType.LOCAL+"] "+this.namespace+": "+args[0];console.log(logObjPrefix,[].concat(args.slice(1)))}}}}})(level)}}return Logger}();return Logger});define("librastandardlib/event-utils/polling-registrar",["librastandardlib/id-utils/generateUUID"],function(generateUUID){"use strict";var pollGroups={};function loop(pollGroup){var key;for(key in pollGroup.events){if(pollGroup.events.hasOwnProperty(key)){pollGroup.events[key].isActive=true}}for(key in pollGroup.events){if(pollGroup.events.hasOwnProperty(key)){var event=pollGroup.events[key];if(event.isActive){if(event.condition()){event.resolve()}else if((new Date).getTime()-event.startTime>event.timeout){event.reject()}}}}var hasEvents=false;for(key in pollGroup.events){if(pollGroup.events.hasOwnProperty(key)){hasEvents=true;break}}if(hasEvents){setTimeout(function(){loop(pollGroup)},pollGroup.interval)}else{pollGroup.isPolling=false}}var PollingRegistrar={register:function(condition,done,fail,timeout,interval){var event={key:generateUUID(),isActive:false,startTime:(new Date).getTime(),condition:condition,done:done,fail:fail,timeout:timeout,interval:interval,resolve:function(){var fct=this.done;this.destroy();fct()},reject:function(){var fct=this.fail;this.destroy();fct()},destroy:function(){delete pollGroups[this.interval].events[this.key]}};var pollGroup;if(!pollGroups.hasOwnProperty(interval)){pollGroup={};pollGroup.events={};pollGroup.interval=interval;pollGroup.isPolling=false;pollGroups[interval]=pollGroup}else{pollGroup=pollGroups[interval]}pollGroup.events[event.key]=event;if(!pollGroup.isPolling){pollGroup.isPolling=true;loop(pollGroup)}},_pollGroups:pollGroups};return PollingRegistrar});define("librastandardlib/event-utils/onWindowLoad",[],function(){"use strict";var onWindowLoad=function(cb,context){context=context||this;if(document.readyState==="complete"){cb.call(context)}else{document.addEventListener("readystatechange",function(){if(document.readyState==="complete"){cb.call(context)}},false)}};return onWindowLoad});define("libra/core/libra-require",["libra/core/libra-namespace","librastandardlib/logger/logger","librastandardlib/event-utils/polling-registrar","librastandardlib/event-utils/onWindowLoad"],function(Libra,Logger,PollingRegistrar,onWindowLoad){"use strict";var InitTime={immediate:"immediate",documentReady:"documentReady",windowLoad:"windowLoad"};var logger=new Logger("LibraRequire");var loadedComponentRegistry={};var eventQueue=[];var hasDocumentReadyFired=false;var hasWindowLoadFired=false;var pollingInterval=100;var pageLoadTimeout=2e4;if(AWS&&AWS.PageSettings&&AWS.PageSettings.pageLoadTimeout){pageLoadTimeout=AWS.PageSettings.pageLoadTimeout}var defaultComponentPath="libra/components/";if(typeof Libra.Comp!=="object"){Libra.Comp={}}Libra.Comp.registry={};function initEvent(name,elem){logger.info("Init event: '"+name+"'");loadedComponentRegistry[name].initFct(elem);Libra.Comp.registry[name].initCount++}function processEvent(name,elem){var msg="Process event: '"+name+"'; ";var initTime=loadedComponentRegistry[name].initTime;if(hasDocumentReadyFired&&initTime===InitTime.documentReady){logger.debug(msg+"document ready already fired");initEvent(name,elem)}else if(hasWindowLoadFired&&initTime===InitTime.windowLoad){logger.debug(msg+"window load already fired");initEvent(name,elem)}else if(initTime===InitTime.immediate){logger.debug(msg+"immediate");initEvent(name,elem)}else{logger.debug(msg+"add to event queue '"+initTime+"'");eventQueue.push({name:name,elem:elem})}}function waitForEventAvailability(name,elem){logger.debug("Wait for event registration: '"+name+"'");if(name in loadedComponentRegistry){processEvent(name,elem);return}PollingRegistrar.register(function(){return name in loadedComponentRegistry},function(){processEvent(name,elem)},function(){logger.error("awsm_v2_:comp_ScriptTimeoutError","AI",{msg:"Failed to recognize component script within the timeout: '"+name+"'"})},15e3,pollingInterval)}function processEventQueue(initTime){for(var i=0,len=eventQueue.length;i<len;i++){var event=eventQueue[i];if(event.name in loadedComponentRegistry){if(loadedComponentRegistry[event.name].initTime===initTime){initEvent(event.name,event.elem)}}}}function findUnregisteredComponents(){var elems=$("[data-lb-comp]:not([data-lb-comp-registered])");for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var $elem=$(elem);$elem.attr("data-lb-comp-registered","true");var name=$elem.attr("data-lb-comp");Libra.require(name,elem)}}function watchForNewComponents(){$(document).on("custom_libra_require_new-content",function(){findUnregisteredComponents()})}function pollToFindUnregisteredComponents(){PollingRegistrar.register(function(){findUnregisteredComponents();if($("#lb-page-end").length){logger.info("Saw Page end");return true}return false},function(){},function(){logger.error("awsm_v2_:comp_PageEndTimeoutError","AI",{msg:"Failed to recognize page end within the timeout"})},pageLoadTimeout,pollingInterval)}function getScriptPath(str){return str.indexOf(":")>-1?str.replace(":","/"):defaultComponentPath+str}Libra.Comp.register=function(event){loadedComponentRegistry[event.name]={initFct:event.initFct,initTime:event.initTime};Libra.Comp.registry[event.name]={initCount:0}};Libra.require=function(eventName,elem){if(eventName in loadedComponentRegistry){processEvent(eventName,elem)}else{var scriptPath=getScriptPath(eventName);try{logger.debug("Require '"+scriptPath+"'");require([scriptPath])}catch(ex){logger.error(ex.message)}finally{waitForEventAvailability(eventName,elem)}}};var LibraRequire={init:function(){$(document).ready(function(){logger.info("Saw document ready");hasDocumentReadyFired=true;processEventQueue(InitTime.documentReady)});onWindowLoad(function(){logger.info("Saw window load");hasWindowLoadFired=true;processEventQueue(InitTime.windowLoad)});pollToFindUnregisteredComponents();watchForNewComponents()}};return LibraRequire});define("librastandardlib/test-helpers/browser-globals/document",[],function(){return document});define("librastandardlib/dom-utils/breakpoint-helper",["librastandardlib/test-helpers/browser-globals/window"],function(window){return{breakpoints:{tiny:480,small:768,mid:980,large:1200,xlarge:1920},isTinyOnly:function(){return window.innerWidth<=this.breakpoints.tiny},isSmallOnly:function(){return window.innerWidth>this.breakpoints.tiny&&window.innerWidth<=this.breakpoints.small},isMidOnly:function(){return window.innerWidth>this.breakpoints.small&&window.innerWidth<=this.breakpoints.mid-1},isLargeOnly:function(){return window.innerWidth>this.breakpoints.mid-1&&window.innerWidth<=this.breakpoints.large-1},isTinyUp:function(){return true},isSmallUp:function(){return window.innerWidth>this.breakpoints.tiny},isMidUp:function(){return window.innerWidth>this.breakpoints.small},isLargeUp:function(){return window.innerWidth>this.breakpoints.mid-1},isXlargeUp:function(){return window.innerWidth>this.breakpoints.large-1}}});define("librastandardlib/dom-utils/isInViewport",["librastandardlib/test-helpers/browser-globals/window"],function(window){var isInViewport=function($elem,top,left,width,height,viewPercentage,$window){if(viewPercentage<0||viewPercentage>100){throw new Error("Invalid range for 'viewPercentage'")}if($elem.css("visibility")==="hidden"){return false}$window=$window||$(window);var viewportTop=$window.scrollTop();var viewportHeight=$window.height();var viewportBottom=viewportTop+viewportHeight;var viewportLeft=$window.scrollLeft();var viewportWidth=$window.width();var viewportRight=viewportLeft+viewportWidth;var bottom=top+height;var right=left+width;var middleTop=top+height*viewPercentage/100;var middleBottom=top+height-height*viewPercentage/100;var horizViewPercentage=80;var middleLeft=left+width*horizViewPercentage/100;var middleRight=left+width-width*horizViewPercentage/100;var isMiddleTopInViewport=viewportTop<=middleTop&&middleTop<=viewportBottom;var isTopInViewport=viewportTop<=top&&top<=viewportBottom;var isMiddleBottomInViewport=viewportTop<=middleBottom&&middleBottom<=viewportBottom;var isBottomInViewport=viewportTop<=bottom&&bottom<=viewportBottom;var isVerticallySpanningViewport=top<=viewportTop&&viewportBottom<=bottom;if(isMiddleTopInViewport&&isTopInViewport||isMiddleBottomInViewport&&isBottomInViewport||isVerticallySpanningViewport){var isMiddleLeftInViewport=viewportLeft<=middleLeft&&middleLeft<=viewportRight;var isLeftInViewport=viewportLeft<=left&&left<=viewportRight;var isMiddleRightInViewport=viewportLeft<=middleRight&&middleRight<=viewportRight;var isRightInViewport=viewportLeft<=right&&right<=viewportRight;var isHorizontallySpanningViewport=left<=viewportLeft&&viewportRight<=right;if(isMiddleLeftInViewport&&isLeftInViewport||isMiddleRightInViewport&&isRightInViewport||isHorizontallySpanningViewport){return true}}return false};return isInViewport});define("librastandardlib/event-utils/debounceWindowEvent",["librastandardlib/test-helpers/browser-globals/window"],function(window){"use strict";var debounceWindowEvent=function(fct,eventName,timeout,context){var that=context||this,count=0;$(window).on(eventName,function(){var id=++count;window.setTimeout(function(){if(id===count){fct.call(that)}},timeout)})};return debounceWindowEvent});define("libra/dom-utils/transition",[],function(){return{Speed:{effectsDefault:200,scrollDefault:400,fast:200},Timing:{effectsDefault:"ease-in-out"}}});define("librastandardlib/detection-utils/isUserAgentRobot",["librastandardlib/test-helpers/browser-globals/window"],function(window){"use strict";var ROBOTS_USER_AGENTS=["SixthSense-AmazonAutoTester"];var userAgentRobot=null;function isUserAgentRobot(recalculate){if(userAgentRobot===null||recalculate){var re=new RegExp(ROBOTS_USER_AGENTS.join("|"),"i");userAgentRobot=re.test(window.navigator.userAgent)}return userAgentRobot}return isUserAgentRobot});define("libra/dom-utils/lazy-load",["librastandardlib/logger/logger","librastandardlib/event-utils/onWindowLoad","librastandardlib/detection-utils/isUserAgentRobot"],function(Logger,onWindowLoad,isUserAgentRobot){"use strict";var METRIC_PREFIX="awsm_v2_:comp_lazyimage_";var LAZY_IMAGE_LOADING_CLASS="lb-is-lazyloaded";var LAZY_WRAPPER_CLASS="lb-lazy-img-wrapper";var logger=new Logger("LazyLoad");var isRobotUserAgent=isUserAgentRobot();var lazyImageCounter=0;function lazyLoadImages(){var lazyImages=document.getElementsByClassName(LAZY_IMAGE_LOADING_CLASS);for(var i=0,len=lazyImages.length;i<len;i++){if(!lazyImages[i].dataset.lazyImgSeen){lazyImages[i].setAttribute("data-lazy-img-seen","true");lazyImageCounter++;loadImage(lazyImages[i])}}}function loadImage(elem){elem.src=elem.dataset.src;if(elem.complete){imageLoaded(elem)}else{elem.addEventListener("load",loadHandler,false);elem.addEventListener("error",errorHandler,false)}}function loadHandler(e){if(e.target){imageLoaded(e.target)}}function errorHandler(e){imageCounter();if(!isRobotUserAgent&&e.target){logger.error(METRIC_PREFIX+"LazyImageLoadError","AI");logger.error("LazyImageLoadError: "+e.target.dataset.src,"RAW")}unbind(e.target)}function imageLoaded(elem){var parentWrapper=elem.parentNode;if(parentWrapper&&parentWrapper.classList.contains(LAZY_WRAPPER_CLASS)){parentWrapper.classList.remove(LAZY_WRAPPER_CLASS);parentWrapper.removeAttribute("style")}imageCounter();unbind(elem)}function imageCounter(){lazyImageCounter-=1;if(lazyImageCounter===0){$(document).trigger("custom_libra_lazy-load_complete")}}function unbind(elem){if(elem){elem.removeEventListener("load",loadHandler,false);elem.removeEventListener("error",errorHandler,false)}}var isWindowLoaded=false;onWindowLoad(function(){isWindowLoaded=true;lazyLoadImages()});$(document).on("custom_libra_require_new-content",function(){if(isWindowLoaded){lazyLoadImages()}})});define("libra/dom-utils/smoothScroll",[],function(){"use strict";var smoothScroll=function(options){var settings=$.extend({targetTop:0,duration:1e3,callback:function(){}},options);$("html, body").stop().animate({scrollTop:settings.targetTop},settings.duration,function(){if(typeof settings.callback==="function"){settings.callback()}})};return smoothScroll});define("libra/dom-utils/smoothScrollToElem",["libra/dom-utils/smoothScroll","libra/dom-utils/transition"],function(smoothScroll,Transition){"use strict";var smoothScrollToElem=function(options){var defaults={scrollPadding:30,duration:Transition.Speed.scrollDefault,headerSelector:"#aws-page-header",callback:function(){}};var settings=$.extend({},defaults,options);var fixedHeaderOffset=0;var $header=$(settings.headerSelector);if(settings.element){if($header.length>0&&$header.css("position")==="fixed"){fixedHeaderOffset=$header.innerHeight()}smoothScroll({targetTop:$(settings.element).offset().top-(fixedHeaderOffset+settings.scrollPadding),duration:settings.duration,callback:settings.callback})}};return smoothScrollToElem});/*! https://mths.be/cssescape v1.5.0 by @mathias | MIT license */
define("libra/vendor/cssEscape",[],function(){"use strict";var cssEscape=function(value){var string=String(value);var length=string.length;var index=-1;var codeUnit;var result="";var firstCodeUnit=string.charCodeAt(0);while(++index<length){codeUnit=string.charCodeAt(index);if(codeUnit===0){result+="�";continue}if(codeUnit>=1&&codeUnit<=31||codeUnit===127||index===0&&codeUnit>=48&&codeUnit<=57||index===1&&codeUnit>=48&&codeUnit<=57&&firstCodeUnit===45){result+="\\"+codeUnit.toString(16)+" ";continue}if(index===0&&length===1&&codeUnit===45){result+="\\"+string.charAt(index);continue}if(codeUnit>=128||codeUnit===45||codeUnit===95||codeUnit>=48&&codeUnit<=57||codeUnit>=65&&codeUnit<=90||codeUnit>=97&&codeUnit<=122){result+=string.charAt(index);continue}result+="\\"+string.charAt(index)}return result};return cssEscape});define("libra/dom-utils/smoothScroller",["libra/dom-utils/smoothScrollToElem","libra/vendor/cssEscape","libra/dom-utils/transition"],function(smoothScrollToElem,cssEscape,Transition){"use strict";var defaults={scrollDuration:Transition.Speed.scrollDefault,smoothScrollAnchorSelector:"a[href*=#]:not([href=#])"};function SmoothScroller(options){this.options=$.extend({},defaults,options);if(window.location.hash){this.scrollToDestination(window.location.hash)}this.bindHandlers()}SmoothScroller.prototype={constructor:SmoothScroller,bindHandlers:function(){var that=this;$(document).on("click",this.options.smoothScrollAnchorSelector,function(){if(window.location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&window.location.hostname===this.hostname){that.scrollToDestination(this.hash);return false}})},scrollToDestination:function(hash){var $destination=this.getScrollDestination(hash);if($destination.length>0){smoothScrollToElem({element:$destination.first(),duration:this.options.scrollDuration})}},getScrollDestination:function(hash){var $destination=[];if(hash&&hash.length>0){hash=hash.trim();if(hash.charAt(0)==="#"){hash=hash.slice(1)}hash=cssEscape(hash);$destination=$("#"+hash);$destination=$destination.length?$destination:$("[name="+hash+"]")}return $destination}};$(document).ready(function(){new SmoothScroller})});define("libra/components/alert-box",[],function(){"use strict";var defaults={alertClassName:"lb-alert",callback:function(){},closeButton:"&times;",closeButtonClassName:"lb-close-button",content:"",fadeSpeed:200,hasCloseButton:true,titleCopy:"",type:"warning"};var AlertBox=function(settings){this.$alertTarget=$("[data-page-alert-target]").first();this.options=$.extend({},defaults,settings);this.$alert=$("<div/>",{role:"alert"});this.createAlert();this.bindEventHandlers()};AlertBox.prototype.bindEventHandlers=function(){var that=this;this.$alert.on("click.lb-alert_close-button","."+this.options.closeButtonClassName,function(){that.closeAlert()});$(document).on("custom_lb-alert_close-all",function(){$("."+that.options.alertClassName).closeAlert()})};AlertBox.prototype.buildAlertTemplate=function(){this.alertTemplate='<div class="'+this.options.alertClassName+" "+this.options.alertClassName+"-"+this.options.type+'">';if(this.options.hasCloseButton){this.alertTemplate=this.alertTemplate+'<button class="lb-close-button">'+this.options.closeButton+"</button>"}if(this.options.titleCopy.length>0){this.alertTemplate=this.alertTemplate+'<h4 class="lb-title">'+this.options.titleCopy+"</h4>"}if(this.options.content.length>0){this.alertTemplate=this.alertTemplate+"<div>"+this.options.content+"</div>"}this.alertTemplate=this.alertTemplate+"</div>"};AlertBox.prototype.createAlert=function(){this.buildAlertTemplate();this.$alert.html(this.alertTemplate);this.$alertTarget.prepend(this.$alert);this.$alert.trigger("custom_lb-alert_"+this.options.type+"_create")};AlertBox.prototype.closeAlert=function(){this.$alert.fadeOut(this.options.fadeSpeed);this.$alert.trigger("custom_lb-alert_"+this.options.type+"_close");if(typeof this.options.callback==="function"){this.options.callback()}};return AlertBox});define("libra/core/lang-not-found",["libra/components/alert-box"],function(AlertBox){"use strict";var LangNotFound={closeButton:'<button type="button" class="close" data-dismiss="alert"><i class="icon-remove"></i></button>',messages:{en_US:"This content is only available in English. We are working constantly to provide our content in other languages. Thank you for your patience.",de_DE:"Derzeit können wir diesen Inhalt nur in englischer Sprache bereitstellen. Wir arbeiten stetig daran, mehr Inhalte auf Deutsch zur Verfügung zu stellen. Wir danken Ihnen für Ihre Geduld.",es_ES:"Actualmente podemos mostrar este contenido sólo en inglés. Trabajamos constantemente para proporcionar más contenido en español. Gracias por su paciencia.",fr_FR:"Actuellement, nous pouvons afficher ce contenu en anglais seulement. Nous nous efforçons constamment de fournir plus de contenu en français. Merci pour votre patience.",it_IT:"Questi contenuti sono per il momento disponibili solo in inglese. Stiamo preparando nuovi contenuti in italiano. Grazie per la tua pazienza.",pt_BR:"No momento, este conteúdo está disponível apenas em Inglês. Estamos trabalhando para adicionar mais conteúdo em português. Obrigado pela sua compreensão.",ru_RU:"В настоящий момент данный материал доступен лишь на английском языке. Предоставляемый нами материал на русском языке постоянно пополняется. Благодарим вас за терпение!",ja_JP:"アクセスいただきありがとうございます。こちらのページは現在英語のみのご用意となっております。引き続き日本語化の範囲を広げてまいりますので、皆様のご理解のほどよろしくお願いいたします。",ko_KR:"현재 이 콘텐츠는 영어로만 제공되며, 한국어 번역 작업이 진행되고 있습니다. 이해해 주셔서 감사합니다.",zh_CN:"目前此内容仅使用英语显示。我们正在努力提供更多简体中文的内容。感谢您的耐心等待。",zh_TW:"目前此內容僅以英文提供。我們正在努力為您提供更多繁體中文的內容。感謝您的耐心與合作。"},defaults:{fallbackLang:"en_US",cookieName:"aws_lang_not_found",cookieDomain:".amazon.com"},init:function(options){this.options=$.extend({},this.defaults,options);var lang=$.cookie(this.options.cookieName);if(lang&&lang!=="en_US"){if(!this.messages.hasOwnProperty(lang)){lang=this.options.fallbackLang}this.alertBoxWarning=new AlertBox({content:this.messages[lang],type:"warning"})}}};return LangNotFound});define("libra/components/page-init",["libra/core/lang-not-found"],function(LangNotFound){"use strict";function initPage(){LangNotFound.init()}Libra.Comp.register({name:"page-init",initFct:function(){initPage()},initTime:"documentReady"});Libra.require("page-init")});define("libra/components/tracking-pixel",[],function(){"use strict";var defaults={url:""};var TrackingPixel=function(elem){this.$elem=$(elem);this.options=$.extend({},defaults,this.$elem.data());this.callTrackingPixel()};TrackingPixel.prototype.callTrackingPixel=function(){var url=this.options.url;if(url!==""){setTimeout(function(){(new Image).src=url},0);this.lastImageUrl=url}};Libra.Comp.register({name:"tracking-pixel",initFct:function(elem){new TrackingPixel(elem)},initTime:"documentReady"});return TrackingPixel});define("librastandardlib/aws/aws-namespace",[],function(){if(typeof AWS!=="object"){AWS={}}return AWS});define("libra/core/aws-current-user",["librastandardlib/aws/aws-namespace"],function(){function CurrentUser(){this.cookies=$.cookie();this.getCurrentUserData()}CurrentUser.prototype={getCurrentUserData:function(){this.isAuthenticated=this.getAuthenticationStatus();this.isIAMUser=this.getIsIAMUser();this.registrationStatus=this.cookies.regStatus||"pre-register";this.awsAccountId=this.cookies["aws-reg-aid"]||null;this.targetVisitorId=this.cookies["aws-target-visitor-id"]||null;this.urchinId=this.cookies.__utmc||null;this.munchkinId=this.cookies._mkto_trk||null;this.siteCatalystFallbackId=this.cookies.s_fid||null},getAuthenticationStatus:function(){return!!this.cookies["aws-x-main"]},getIsIAMUser:function(){return!!this.cookies["aws-account-alias"]}};AWS.CurrentUser=new CurrentUser;return AWS.CurrentUser});define("libra/components/google-rlsa-pixel",["libra/core/aws-current-user"],function(CurrentUser){"use strict";var regStatusMap={registered:100,"pre-register":200,registering:300};var hasFiredOnce=false;var GoogleRLSAPixel=function(elem){this.$elem=$(elem);if(!hasFiredOnce){this.url="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/952612511/?guid=ON&script=0";this.url+="&data.rs="+encodeURIComponent(regStatusMap[CurrentUser.registrationStatus]);this.callTrackingPixel();hasFiredOnce=true}};GoogleRLSAPixel.prototype.callTrackingPixel=function(){setTimeout(function(){(new Image).src=this.url}.bind(this),0)};Libra.Comp.register({name:"google-rlsa-pixel",initFct:function(elem){new GoogleRLSAPixel(elem)},initTime:"documentReady"});return GoogleRLSAPixel});define("libra/components/transition-wrapper",["librastandardlib/event-utils/debounceWindowEvent","librastandardlib/dom-utils/isInViewport"],function(debounceWindowEvent,isInViewport){"use strict";var watchedElems=[];var enabled=false;var defaults={startDelay:0,viewPercentage:20};function TransitionWrapper(elem){this.$elem=$(elem);this.options=$.extend({},defaults,this.$elem.data());if(!enabled){var debounceInterval=10;debounceWindowEvent(processItemsOnScroll,"scroll.aws_transition-wrapper_watch-viewport",debounceInterval);enabled=true}watchElem(this.$elem,this.options)}function watchElem($elem,options){var item={$elem:$elem,isActive:false,options:options};watchedElems.push(item);activateWhenInViewport(item)}function processItemsOnScroll(){for(var i=0,len=watchedElems.length;i<len;i++){activateWhenInViewport(watchedElems[i])}}function activateWhenInViewport(item){if(!item.isActive){var top=item.$elem.offset().top;var left=item.$elem.offset().left;var width=item.$elem.outerWidth();var height=item.$elem.outerHeight();if(isInViewport(item.$elem,top,left,width,height,item.options.viewPercentage)){setTimeout(function(){item.$elem.addClass("lb-active");item.isActive=true},item.options.startDelay)}}}Libra.Comp.register({name:"transition-wrapper",initFct:function(elem){new TransitionWrapper(elem)},initTime:"immediate"});return TransitionWrapper});define("libra/navigation/utils/navigation-utils",[],function(){"use strict";var Util={simpleCache:{},isTouchCapable:function(){if(typeof Util.simpleCache.isTouchCapable==="undefined"){var res=window.Modernizr.touchevents;Util.simpleCache.isTouchCapable=res;return res}return Util.simpleCache.isTouchCapable},isMobile:function(){if(typeof Util.simpleCache.isMobile==="undefined"){var re=new RegExp(/iPhone|iPod|iPad|Android|(?=.*\bAndroid\b)(?=.*\bMobile\b)|IEMobile|(?=.*\bWindows\b)(?=.*\bTouch\b)|Windows Phone|Opera Mini|(?=.*\bFirefox\b)(?=.*\bMobile\b)|BlackBerry|Nexus 7|BNTV250|Kindle Fire|Silk|webOS|GT-P1000/i);var res=re.test(navigator.userAgent);Util.simpleCache.isMobile=res;return res}return Util.simpleCache.isMobile},isLikelyMobile:function(){if(typeof Util.simpleCache.isLikelyMobile==="undefined"){var res=Util.isMobile()||Util.isTouchCapable()&&$(window).width<=800;Util.simpleCache.isLikelyMobile=res;return res}return Util.simpleCache.isLikelyMobile},isIPad:function(){if(typeof Util.simpleCache.isIPad==="undefined"){var res=navigator.userAgent.indexOf("iPad")!==-1;Util.simpleCache.isIPad=res;return res}return Util.simpleCache.isIPad},debounceWindowEvent:function(func,eventName,timeout,context){var that=context||this;var count=0;$(window).on(eventName,function(){var id=++count;setTimeout(function(){if(id===count){func.call(that)}},timeout)})}};return Util});/*!
 * Copyright (c) Tristen Brown
 * MIT LICENSE
 * https://github.com/tristen/hoverintent/blob/b17a178574f80bd794238783e57ae66fb5301fc1/LICENCE
 */
define("librastandardlib/vendor/hoverintent/hoverIntent",[],function(){"use strict";var hoverIntent=function(el,onOver,onOut){var x,y,pX,pY;var h={},state=0,timer=0;var options={sensitivity:7,interval:100,timeout:0};function delay(el,e){if(timer)timer=clearTimeout(timer);state=0;return onOut.call(el,e)}function tracker(e){x=e.clientX;y=e.clientY}function compare(el,e){if(timer)timer=clearTimeout(timer);if(Math.abs(pX-x)+Math.abs(pY-y)<options.sensitivity){state=1;return onOver.call(el,e)}else{pX=x;pY=y;timer=setTimeout(function(){compare(el,e)},options.interval)}}h.options=function(opt){options=$.extend({},options,opt);return h};function dispatchOver(e){if(timer)timer=clearTimeout(timer);el.removeEventListener("mousemove",tracker,false);if(state!==1){pX=e.clientX;pY=e.clientY;el.addEventListener("mousemove",tracker,false);timer=setTimeout(function(){compare(el,e)},options.interval)}return this}function dispatchOut(e){if(timer)timer=clearTimeout(timer);el.removeEventListener("mousemove",tracker,false);if(state===1){timer=setTimeout(function(){delay(el,e)},options.timeout)}return this}h.remove=function(){if(!el)return;el.removeEventListener("mouseover",dispatchOver,false);el.removeEventListener("mouseout",dispatchOut,false)};if(el){el.addEventListener("mouseover",dispatchOver,false);el.addEventListener("mouseout",dispatchOut,false)}return h};return hoverIntent});define("libra/navigation/dropdown",["libra/navigation/utils/navigation-utils","librastandardlib/vendor/hoverintent/hoverIntent"],function(Util,hoverIntent){"use strict";var defaults={footerSelector:"#aws-page-footer",dropdownSelector:".aws-nav-popover",jQueryEventNamespace:"aws_nav-dropdown",isTouchOnly:false,isAnimated:true,hoverSensitivity:7,hoverInterval:50,timeout:260,verticalTravelDistance:14,horizontalOffset:15,verticalOffset:30,startingOpacity:.1};var activeRegistry={};var instantiationCount=0;function Dropdown(triggerEl,group,options){this.options=$.extend({},defaults,options);this.instantiationId=instantiationCount;instantiationCount++;this.$trigger=$(triggerEl);this.$triggerIcon=this.$trigger.find("i");this.id=this.$trigger.attr("data-dropdown");this.$target=$("#"+this.id);this.group=group;this.isActive=false;this.isEnabled=true;this.timeout=null;this.topStart=0;this.topDest=0}Dropdown.prototype={init:function(){if(!this.beforeInit()){return}if(this.$target.data("registered")){return}this.$target.attr("data-registered","true");if(Util.isLikelyMobile()||this.options.isTouchOnly){this.options.isTouchOnly=true;this.bindTouchEvents()}else{this.bindTouchEvents();this.bindHoverEvents()}this.bindWindowResizeEvent()},bindHoverEvents:function(){var that=this;hoverIntent(this.$trigger[0],function(){if(!that.isActive){that.activate()}},function(){}).options({timeout:0,sensitivity:this.options.hoverSensitivity,interval:this.options.hoverInterval});var enterTrigger=function(){clearTimeout(that.timeout)};this.$trigger.on("mouseenter",enterTrigger);var enterTarget=function(){clearTimeout(that.timeout)};this.$target.on("mouseenter",enterTarget);var leaveTrigger=function(){that.timeout=setTimeout(function(){that.deactivate()},that.options.timeout)};this.$trigger.on("mouseleave",leaveTrigger);var leaveTarget=function(){that.timeout=setTimeout(function(){that.deactivate()},that.options.timeout)};this.$target.on("mouseleave",leaveTarget)},bindTouchEvents:function(){var that=this;this.$trigger.on("click",function(e){if(that.isEnabled){e.preventDefault()}that.toggle()});this.listenForCloseEvent()},bindWindowResizeEvent:function(){var that=this;Util.debounceWindowEvent(function(){that.setPosition();setTimeout(function(){that.setPosition()},300)},"resize."+this.options.jQueryEventNamespace+"_"+this.instantiationId,20,this)},destroyWindowResizeEvent:function(){$(window).off("resize."+this.options.jQueryEventNamespace+"_"+this.instantiationId)},listenForCloseEvent:function(){var that=this;$(document).on("custom_"+this.options.jQueryEventNamespace+"_close",function(){that.deactivate()})},toggle:function(){if(this.isActive){this.deactivate()}else{this.activate();this.bindDocumentClickHandler()}},bindDocumentClickHandler:function(){var eventName;if("ontouchstart"in window){eventName="touchstart."+this.options.jQueryEventNamespace+"_"+this.instantiationId}else{eventName="click."+this.options.jQueryEventNamespace+"_"+this.instantiationId}var that=this;$(document).on(eventName,function(event){var $eventTarget=$(event.target);if(!$eventTarget.closest("[data-dropdown]").length&&!$eventTarget.closest(that.options.dropdownSelector).length){that.deactivate()}})},destroyDocumentClickHandler:function(){var eventName;if("ontouchstart"in window){eventName="touchstart."+this.options.jQueryEventNamespace+"_"+this.instantiationId}else{eventName="click."+this.options.jQueryEventNamespace+"_"+this.instantiationId}$(document).off(eventName)},activate:function(){if(!this.isEnabled){return}for(var key in activeRegistry){if(activeRegistry.hasOwnProperty(key)){activeRegistry[key].deactivate()}}this.setPosition();this.isActive=true;activeRegistry[this.id]=this;$(this.options.footerSelector).css("z-index",6e3);this.$target.removeClass("inactive");this.$target.addClass("active");this.$trigger.addClass("active")},deactivate:function(){this.isActive=false;delete activeRegistry[this.id];if(this.$target.hasClass("active")){setTimeout(function(){$(this.options.footerSelector).css("z-index",6001)}.bind(this),110);this.$target.removeClass("active");this.$target.addClass("inactive");this.$trigger.removeClass("active")}this.destroyDocumentClickHandler()},setPosition:function(){var triggerOffset=this.$triggerIcon.offset();var triggerPos=this.$triggerIcon.position();var topDest=this.group.$container.position().top+triggerPos.top+this.options.verticalOffset;var topStart=topDest-this.options.verticalTravelDistance;var targetWidth=this.$target.width();var left=triggerOffset.left-targetWidth/2-this.options.horizontalOffset;if(this.isActive||!this.options.isAnimated){this.$target.css({top:topDest,left:left})}else{this.$target.css({top:topStart,left:left})}},beforeInit:function(){return true}};return Dropdown});define("libra/navigation/cookie-manager",[],function(){"use strict";function CookieManager(name){this.name=name;this.exists=false;this.rawValue=null;this.value=null;this.domain=null;this.expireSeconds=86400;if(document.cookie.length&&document.cookie.indexOf(this.name)!==-1){this.exists=true}}CookieManager.prototype={read:function(){var found=false;if(document.cookie.length){var cookieStart=document.cookie.indexOf(this.name);if(cookieStart!==-1){found=true;var valueStart=cookieStart+this.name.length+1;var cookieEnd=document.cookie.indexOf(";",valueStart);if(cookieEnd===-1){cookieEnd=document.cookie.length}this.rawValue=document.cookie.substring(valueStart,cookieEnd)}}if(!found){this.exists=false}},write:function(){var options={};options.value=this.name+"="+this.rawValue;var expiresDate=new Date;expiresDate.setSeconds(expiresDate.getSeconds()+this.expireSeconds);options.expires="; expires="+expiresDate.toUTCString();options.path="; path=/";var domain=this.domain||this.getCurrentHostname();domain=document.location.hostname==="localhost"?"":domain;options.domain="; domain="+domain;document.cookie=[options.value,options.expires,options.path,options.domain].join("");this.exists=true},getCurrentHostname:function(){var hostname=document.location.hostname;var periodCount=hostname.split(".").length-1;if(periodCount>2){var lastIndex=0;var unneededPeriods=periodCount-2;for(var i=0,len=unneededPeriods;i<len;i++){lastIndex=hostname.indexOf(".",lastIndex+1)}hostname=hostname.substring(lastIndex+1)}hostname=hostname==="localhost"?"":hostname;return hostname}};return CookieManager});define("libra/navigation/utils/language-utils",["libra/navigation/cookie-manager"],function(CookieManager){"use strict";var LanguageUtils={languageCookieName:"aws_lang",addCurrentPathnameToLanguageLinks:function(selector){var langLinks=$(selector).find("li[data-language]");var origin=window.location.protocol+"//"+window.location.host;var pathname=window.location.pathname||"/";for(var i=0,len=langLinks.length;i<len;i++){var $langLink=$(langLinks[i]);var linkUrl=$langLink.find("a").attr("href");var linkQueryString="";var parts=linkUrl.split("?");if(parts.length>1){linkQueryString="?"+parts[1]}var langCode=$langLink.attr("data-language");if(langCode!==""){var found=false;var j=0;var len2=this.options.supportedLanguages.length;while(!found&&j<len2){var codeInPath="/"+this.options.supportedLanguages[j]+"/";var idx=pathname.indexOf(codeInPath);if(idx===0){pathname=pathname.substr(3,pathname.length);found=true}j++}var newUrl;if(langCode===this.options.defaultLanguage){newUrl=origin+pathname+linkQueryString}else{newUrl=origin+"/"+langCode+pathname+linkQueryString}$langLink.find("a").attr("href",newUrl)}}},bindPreferredLanguageSelectionEvent:function(selector){var that=this;$(selector).on("click","li[data-language] a",function(){that.setLanguageCookie($(this).data("language"))})},setLanguageCookie:function(val){var parentDomain="."+window.location.hostname.split(".").slice(-2).join(".");var langCookie=new CookieManager(this.languageCookieName);langCookie.rawValue=val;langCookie.expireSeconds=2592e3;langCookie.domain=parentDomain;langCookie.write()},removeUnsupportedLanguages:function(languageLinkSelector){var $languageLinkContainer=$(languageLinkSelector);var langLinks=$languageLinkContainer.find("li[data-language]");for(var i=0,len=langLinks.length;i<len;i++){var $langLink=$(langLinks[i]);var langCode=$langLink.data("language");if($.inArray(langCode,this.options.supportedLanguages)===-1){$langLink.remove()}}}};return LanguageUtils});define("libra/navigation/language-dropdown-mixin",["libra/navigation/utils/language-utils"],function(LanguageUtils){"use strict";var LanguageDropdownMixin={languageDropdownSelector:"#aws-nav-dropdown-lang",hasAlternateLanguages:true,beforeInit:function(){$.extend(this,LanguageUtils);this.removeUnsupportedLanguages(this.languageDropdownSelector);this.removeCurrentLanguage();if(!this.hasAlternateLanguages){return false}this.addCurrentPathnameToLanguageLinks(this.languageDropdownSelector);this.bindPreferredLanguageSelectionEvent(this.languageDropdownSelector);return true},removeCurrentLanguage:function(){var currentLanguage=this.$trigger.data("language");var $languageDropdown=$(this.languageDropdownSelector);var langLinks=$languageDropdown.find("li[data-language]");var i=0;var len=langLinks.length;var linksRemaining=langLinks.length;while(i<len){var $langLink=$(langLinks[i]);var langCode=$langLink.data("language");if(langCode===currentLanguage){$langLink.remove();linksRemaining--}i++}if(linksRemaining<=0){this.$trigger.remove();$languageDropdown.remove();this.hasAlternateLanguages=false}}};return LanguageDropdownMixin});define("libra/navigation/megamenu-mixin",["libra/navigation/utils/navigation-utils"],function(Util){"use strict";var MegamenuMixin={megamenuWidthThreshold:1260,horizontalOffset:114,arrowOffset:3,leftWindowPadding:20,rightWindowPadding:30,beforeInit:function(){if(Util.isLikelyMobile()){return false}this.doOnWidthThreshold();this.watchResize();return true},watchResize:function(){var resizeEventName="resize."+this.jQueryEventNamespace+"_deactivate-megamenu";Util.debounceWindowEvent(this.doOnWidthThreshold,resizeEventName,40,this)},doOnWidthThreshold:function(){if($(window).width()<this.megamenuWidthThreshold){if(this.isActive){this.deactivate()}this.isEnabled=false;if(this.$trigger.hasClass("enabled")){this.$trigger.removeClass("enabled");this.$trigger.find("a").attr("data-mbox-ignore","false")}}else{this.isEnabled=true;if(!this.$trigger.hasClass("enabled")){this.$trigger.addClass("enabled");this.$trigger.find("a").attr("data-mbox-ignore","true")}}},setPosition:function(){var triggerOffset=this.$triggerIcon.offset();var triggerPos=this.$triggerIcon.position();var triggerLeft=triggerOffset.left;var dropdownWidth=this.$target.outerWidth();var topDest=this.group.$container.position().top+triggerPos.top+this.options.verticalOffset;var topStart=topDest-this.options.verticalTravelDistance;var leftDest=triggerLeft-this.horizontalOffset;var maxLeft=$(window).width()-this.rightWindowPadding-dropdownWidth;if(leftDest>maxLeft){leftDest=maxLeft}var minLeft=this.leftWindowPadding;if(leftDest<minLeft){leftDest=minLeft}var leftArrowDest=triggerLeft-leftDest+this.arrowOffset;this.$target.find(".aws-nav-popover-arrow").css("left",leftArrowDest);this.$target.find(".aws-nav-popover-arrow-inner").css("left",leftArrowDest);if(this.isActive||!this.options.isAnimated){this.$target.css({top:topDest,left:leftDest})}else{this.$target.css({top:topStart,left:leftDest})}}};return MegamenuMixin});define("libra/navigation/dropdown-group",["libra/navigation/dropdown","libra/navigation/language-dropdown-mixin","libra/navigation/megamenu-mixin"],function(Dropdown,LanguageDropdownMixin,MegamenuMixin){"use strict";var DropdownGroup={defaults:{isTouchOnly:false,isAnimated:true},init:function($container,options){this.options=$.extend({},this.defaults,options);this.$container=$container;var triggers=this.$container.find("[data-dropdown]");for(var i=0,len=triggers.length;i<len;i++){var id=$(triggers[i]).data("dropdown");var dropdown=new Dropdown(triggers[i],this,this.options);if(id==="aws-nav-dropdown-lang"){$.extend(dropdown,LanguageDropdownMixin)}else if($("#"+id).hasClass("aws-nav-megamenu")){$.extend(dropdown,MegamenuMixin)}dropdown.init()}return this}};return DropdownGroup});define("libra/navigation/quick-links",["librastandardlib/event-utils/polling-registrar","librastandardlib/logger/logger","librastandardlib/url-utils/getQueryStringParam","libra/navigation/dropdown-group","libra/navigation/utils/navigation-utils"],function(PollingRegistrar,Logger,getQueryStringParam,DropdownGroup,Util){"use strict";var METRIC_ID_QSP_KEY="awsm";var METRIC_ID_QSP_VALUE="ql";var defaults={quicklinksSelector:"#aws-nav-quicklinks",quicklinksOverflowSelector:"#aws-nav-quicklinks-overflow",quicklinksSeparator:"#aws-nav-quicklinks-separator",quicklinkSelector:".aws-nav-quicklink",quicklinksDropdownListSelector:"#aws-nav-dropdown-quicklinks ul",headerRightSelector:"#aws-nav-header-right",jQueryEventNamespace:"aws_nav-quicklinks",quicklinksDropdownTriggerWidth:85,availableWidthCorrection:18};var isQuicklinksShown=false;var logger=new Logger("AWSNav");function QuicklinksController($container,options){this.options=$.extend({},defaults,options);this.$container=$container;this.quicklinks=[];this.quicklinksInDropdown=[];this.linkWidths=[];this.leftBound=null;this.$quicklinksContainer=this.$container.find(this.options.quicklinksSelector);this.$quicklinksOverflow=this.$container.find(this.options.quicklinksOverflowSelector);this.$quicklinksSeparator=this.$container.find(this.options.quicklinksSeparator);this.$headerRight=this.$container.find(this.options.headerRightSelector);this.logOnQuicklinkParam();var that=this;var pollingTimeout=4e3;var pollingInterval=100;var additionalRenderingTime=300;PollingRegistrar.register(function(){that.$quicklinksContainer=that.$container.find(that.options.quicklinksSelector);if(that.$quicklinksContainer.length){setTimeout(function(){that.init()},additionalRenderingTime);return true}},function(){},function(){},pollingTimeout,pollingInterval)}QuicklinksController.prototype={init:function(){this.updateLinksWithMetricIdentifier();this.copyAllLinksToDropdown();this.getAreaDimensions();this.updatePositions();this.watchResize();this.pollForHeaderRightWidthChange();DropdownGroup.init(this.$container,this.options)},logOnQuicklinkParam:function(){if(getQueryStringParam(METRIC_ID_QSP_KEY,window.location.search).indexOf(METRIC_ID_QSP_VALUE)===0){logger.debug("awsm_:comp_nav_QuicklinkClick","AI")}},updateLinksWithMetricIdentifier:function(){this.$quicklinksContainer.find("a").each(function(idx,a){var str=[encodeURIComponent(METRIC_ID_QSP_KEY),encodeURIComponent(METRIC_ID_QSP_VALUE+"-"+idx)].join("=");var $a=$(a);var url=$a.attr("href");var separator=url.indexOf("?")===-1?"?":"&";url+=separator+str;$a.attr("href",url)})},watchResize:function(){Util.debounceWindowEvent(function(){this.updatePositions()},"resize."+this.options.jQueryEventNamespace,20,this)},pollForHeaderRightWidthChange:function(){var that=this;var pollingTimeout=2e3;var pollingInterval=100;var lastWidth=this.$headerRight.outerWidth(true);PollingRegistrar.register(function(){if(that.$headerRight.outerWidth(true)!==lastWidth){return true}},function(){that.updatePositions()},function(){},pollingTimeout,pollingInterval)},updatePositions:function(){var constrainWidth=$(window).width()-this.leftBound-this.$headerRight.outerWidth(true);this.$quicklinksContainer.width(constrainWidth);var availableWidth=constrainWidth-this.options.quicklinksDropdownTriggerWidth-this.options.availableWidthCorrection;var totalWidth=0;var hasOverflowed=false;var overflowedAtIdx=-1;for(var i=0,len=this.quicklinks.length;i<len;i++){totalWidth+=this.linkWidths[i];if(totalWidth>availableWidth){this.hideLink(i);hasOverflowed=true;if(overflowedAtIdx===-1){overflowedAtIdx=i}}else{this.showLink(i)}}if(hasOverflowed&&overflowedAtIdx!==0){this.$quicklinksOverflow.css("visibility","visible")}else{this.$quicklinksOverflow.css("visibility","hidden")}if(!isQuicklinksShown){this.$quicklinksContainer.css("visibility","visible");if(this.quicklinks.length){this.$quicklinksSeparator.css("visibility","visible")}isQuicklinksShown=true}},showLink:function(idx){$(this.quicklinks).eq(idx).show();var that=this;setTimeout(function(){$(that.quicklinksInDropdown).eq(idx).hide()},0)},hideLink:function(idx){$(this.quicklinks).eq(idx).hide();var that=this;setTimeout(function(){$(that.quicklinksInDropdown).eq(idx).show()},0)},copyAllLinksToDropdown:function(){this.$container.find(this.options.quicklinksDropdownListSelector).empty();this.quicklinks=this.$quicklinksContainer.find(this.options.quicklinkSelector);for(var i=0,len=this.quicklinks.length;i<len;i++){var $quicklink=$(this.quicklinks[i]);this.$container.find(this.options.quicklinksDropdownListSelector).append($('<li><a href="'+$quicklink.children().first().attr("href")+'">'+$quicklink.children().first().html()+"</a></li>"))}this.quicklinksInDropdown=this.$container.find(this.options.quicklinksDropdownListSelector+" li")},getAreaDimensions:function(){this.leftBound=this.$quicklinksContainer.offset().left;this.linkWidths.length=0;this.quicklinks=this.$quicklinksContainer.find(this.options.quicklinkSelector);for(var i=0,len=this.quicklinks.length;i<len;i++){var $quicklink=$(this.quicklinks[i]);var quicklinkClientRect=this.quicklinks[i].getBoundingClientRect();this.linkWidths[this.linkWidths.length]="width"in quicklinkClientRect?Math.ceil(quicklinkClientRect.width):$quicklink.outerWidth()}}};return QuicklinksController});define("libra/footer/page-footer",["libra/navigation/utils/language-utils","libra/components/google-rlsa-pixel"],function(LanguageUtils){"use strict";var PageFooter={defaults:{footerLanguageSelector:"#aws-page-footer-lang-links"},hasAlternateLanguages:false,init:function($container,options){this.options=$.extend({},this.defaults,options);$.extend(this,LanguageUtils);this.removeUnsupportedLanguages(this.options.footerLanguageSelector);this.checkForAlternateLanguages(this.options.footerLanguageSelector);if(!this.hasAlternateLanguages){$(this.options.footerLanguageSelector).remove()}else{this.addCurrentPathnameToLanguageLinks(this.options.footerLanguageSelector);this.bindPreferredLanguageSelectionEvent(this.options.footerLanguageSelector)}return this},checkForAlternateLanguages:function(selector){var $languageList=$(selector);var currentLanguage=$languageList.data("language");var langLinks=$languageList.find("li[data-language]");var i=0;var len=langLinks.length;while(i<len){var $langLink=$(langLinks[i]);var langCode=$langLink.data("language");if(langCode!==currentLanguage){this.hasAlternateLanguages=true;break}i++}}};return PageFooter});define("libra/navigation/popover",["libra/navigation/cookie-manager","libra/navigation/utils/navigation-utils"],function(CookieManager,Util){"use strict";var PopoverController={defaults:{isAnimated:true},init:function($container,options){this.options=$.extend({},this.defaults,options);this.$container=$container;new Popover($('.aws-nav-popover[data-popover-anchor="aws-nav-flyout-trigger"]'),this.$container,this.options);return this}};var defaults={popoverSelector:".aws-nav-popover",closeButtonSelector:".aws-nav-popover-close",jQueryEventNamespace:"aws_nav-popover",isAnimated:true,fadeInDuration:140,fadeOutDuration:90,startingOpacity:.1,visualArrowWidth:8,verticalOffset:8,arrowHorizontalOffset:20,waitToShowDuration:600,closeOnDocumentClick:true,autoCloseDuration:false,onlyFirstVisit:false,firstVisitDuration:2592e3};var instantiationCount=0;var firstVisitCookieExists=null;function Popover(el,$container,options){this.options=$.extend({},defaults,options);this.instantiationId=instantiationCount;instantiationCount++;this.$el=$(el);this.popoverAnchorId=this.$el.attr("data-popover-anchor");this.$anchor=$container.find("#"+this.popoverAnchorId);$.extend(this.options,this.$el.data());if(this.$anchor.length===1){if(this.showOnLoad()){this.init()}}}Popover.prototype={init:function(){this.setPosition();this.bindCloseButtonEvent();var that=this;setTimeout(function(){that.activate()},this.options.waitToShowDuration);if(this.options.closeOnDocumentClick){this.bindDocumentClickHandler()}this.listenForCloseEvent()},bindCloseButtonEvent:function(){var that=this;this.$el.find(this.options.closeButtonSelector).on("click",function(){that.deactivate()})},bindWindowResizeEvent:function(){var that=this;Util.debounceWindowEvent(function(){that.setPosition();setTimeout(function(){that.setPosition()},300)},"resize."+this.options.jQueryEventNamespace+"_"+this.instantiationId,20,this)},destroyWindowResizeEvent:function(){$(window).off("resize."+this.options.jQueryEventNamespace+"_"+this.instantiationId)},bindDocumentClickHandler:function(){var eventNames=[];if("ontouchstart"in window){eventNames.push("touchstart."+this.options.jQueryEventNamespace+"_"+this.instantiationId)}eventNames.push("click."+this.options.jQueryEventNamespace+"_"+this.instantiationId);var that=this;$(document).on(eventNames.join(" "),function(event){if(!$(event.target).closest(that.options.popoverSelector).length){for(var i=0,len=eventNames.length;i<len;i++){$(document).off(eventNames[i])}that.deactivate()}})},listenForCloseEvent:function(){var that=this;var eventName="custom_"+this.options.jQueryEventNamespace+"_close_"+this.popoverAnchorId;$(document).on(eventName,function(){that.deactivate();$(document).off(eventName)})},activate:function(){if(this.options.isAnimated){this.$el.css({opacity:this.options.startingOpacity,visibility:"visible"}).animate({opacity:1},{duration:this.options.fadeInDuration})}else{this.$el.css({opacity:1,visibility:"visible"})}if(this.options.autoCloseDuration){var that=this;setTimeout(function(){that.deactivate()},this.options.autoCloseDuration)}else{this.bindWindowResizeEvent()}},deactivate:function(){if(this.options.isAnimated){this.$el.fadeOut(this.options.fadeOutDuration,function(){$(this).css({visibility:"hidden",display:"block",top:0,left:0})})}else{this.$el.css({visibility:"hidden",top:0,left:0})}this.destroyWindowResizeEvent()},setPosition:function(){var anchorPos=this.$anchor.offset();var anchorWidth=this.$anchor.outerWidth();var anchorHeight=this.$anchor.outerHeight();var anchorMiddlePos=anchorPos.left+anchorWidth/2;var popoverWidth=this.$el.outerWidth();var popoverPos=this.$el.offset();var popoverTopMiddleArrowPos=popoverPos.left+popoverWidth/2;var leftDestOfAnchorHavingTopMiddleArrow=anchorMiddlePos-(popoverTopMiddleArrowPos-popoverPos.left);var popoverTopLeftArrowPos=popoverPos.left+this.options.arrowHorizontalOffset;var leftDestOfAnchorHavingTopLeftArrow=anchorMiddlePos-(popoverTopLeftArrowPos-popoverPos.left+this.options.visualArrowWidth);var popoverTopRightArrowPos=popoverPos.left+popoverWidth-this.options.arrowHorizontalOffset;var leftDestOfAnchorHavingTopRightArrow=anchorMiddlePos-(popoverTopRightArrowPos-popoverPos.left-this.options.visualArrowWidth);var leftDest=leftDestOfAnchorHavingTopMiddleArrow;var navHeaderMargin=0;if(leftDestOfAnchorHavingTopMiddleArrow<navHeaderMargin){this.$el.addClass("aws-top-left");leftDest=leftDestOfAnchorHavingTopLeftArrow}else if(leftDestOfAnchorHavingTopMiddleArrow+popoverWidth>$(window).width()-navHeaderMargin){this.$el.addClass("aws-top-right");leftDest=leftDestOfAnchorHavingTopRightArrow}this.$el.css({top:anchorPos.top+anchorHeight+this.options.verticalOffset,left:leftDest})},showOnLoad:function(){if(this.options.onlyFirstVisit){if(!this.isFirstTimeVisitor()){return false}}return true},isFirstTimeVisitor:function(){if(firstVisitCookieExists===null){var visitorCookie=new CookieManager("aws-first-visit-2");firstVisitCookieExists=visitorCookie.exists;visitorCookie.domain="."+window.location.hostname;visitorCookie.expireSeconds=this.options.firstVisitDuration;visitorCookie.rawValue="0";visitorCookie.write()}return!firstVisitCookieExists}};return PopoverController});define("libra/navigation/mouse-tracker",[],function(){"use strict";var regions=[],n=3,cursor=[{x:0,y:0}],c=0,listening=false;var callbackArgs=function(){var pCursors=[];for(var i=1;i<n;i++){pCursors.push(cursor[(c-i+n)%n])}return $.extend(true,{},{cursor:cursor[c],priorCursors:pCursors})};var check=function(immediately){for(var i=0;i<regions.length;i++){var r=regions[i];var inside=$.grep(r.rects,function(j){return cursor[c].x>=j[0]&&cursor[c].y>=j[1]&&cursor[c].x<j[0]+j[2]&&cursor[c].y<j[1]+j[3]}).length>0;if(r.inside!==null&&inside&&!r.inside&&r.mouseEnter){r.inside=r.mouseEnter(callbackArgs())}else if(r.inside!==null&&!inside&&r.inside&&r.mouseLeave){r.inside=!r.mouseLeave(immediately,callbackArgs())}}};var startListening=function(){$(document).mousemove(function(e){c=(c+1)%n;cursor[c]={x:e.pageX,y:e.pageY};check()});listening=true};return{add:function(rectsArray,options){if(!listening){startListening()}var r=$.extend({rects:rectsArray},options);regions.push(r);return r},remove:function(region){for(var i=0;i<regions.length;i++){if(regions[i]===region){regions.splice(i,1);return}}},checkNow:function(){check(true)},getCallbackArgs:function(){return callbackArgs()}}});define("libra/navigation/calculate-delay",[],function(){"use strict";var mouseTrackerDefaults={mouseTrackerMajorDelay:220,mouseTrackerMinorDelay:80};var cursorPosition=function(cursor,rect){var h="c",v="c";if(cursor&&rect){if(cursor.x<rect.x1){h="l"}else if(cursor.x>rect.x2){h="r"}if(cursor.y<rect.y1){v="t"}else if(cursor.y>rect.y2){v="b"}}return v+h};var calculateDelay=function(args,rect){var delay=0,c=args.cursor,p1=args.priorCursors[0]||{},p2=args.priorCursors[1]||{};
//    are limited to the pixel grid.  So, if that appears to be the case, wait a brief time instead of
if(c.x===p1.x&&Math.abs(c.y-p1.y)<2&&c.x>p2.x){delay=mouseTrackerDefaults.mouseTrackerMinorDelay}else{var r=rect,pts=[c,p1];switch(cursorPosition(c,r)){case"tl":pts.push({x:r.x1,y:r.y2},{x:r.x2,y:r.y1});break;case"bl":pts.push({x:r.x1,y:r.y1},{x:r.x2,y:r.y2});break;case"cl":pts.push({x:r.x1,y:r.y1},{x:r.x1,y:r.y2});break;default:pts.push({x:0,y:0},{x:0,y:0});delay=-1}if(delay===0){var b0=(pts[2].x-pts[1].x)*(pts[3].y-pts[1].y)-(pts[3].x-pts[1].x)*(pts[2].y-pts[1].y),b1=((pts[2].x-pts[0].x)*(pts[3].y-pts[0].y)-(pts[3].x-pts[0].x)*(pts[2].y-pts[0].y))/b0,b2=((pts[3].x-pts[0].x)*(pts[1].y-pts[0].y)-(pts[1].x-pts[0].x)*(pts[3].y-pts[0].y))/b0,b3=((pts[1].x-pts[0].x)*(pts[2].y-pts[0].y)-(pts[2].x-pts[0].x)*(pts[1].y-pts[0].y))/b0;delay=b1>0&&b2>0&&b3>0?mouseTrackerDefaults.mouseTrackerMajorDelay:0}}return delay};return calculateDelay});define("libra/navigation/flyout",["libra/navigation/utils/navigation-utils","libra/navigation/mouse-tracker","libra/navigation/calculate-delay"],function(Util,MouseTracker,calculateDelay){"use strict";var defaults={isAnimated:true,isTouchOnly:false,expandDuration:170,collapseDuration:210,timeout:280,triggerOuterHeight:33,zIndexBase:5900};var AnimatedState={COLLAPSED:"x",COLLAPSING:"-",EXPANDED:"o",EXPANDING:"+"};function Flyout(triggerEl,group,options){this.options=$.extend({},defaults,options);this.$trigger=$(triggerEl);this.id=this.$trigger.attr("data-flyout");this.$target=$("#"+this.id);this.group=group;this.$container=this.$target.closest(this.group.options.flyoutPanelSelector);this.parent=null;this.level=null;this.state=AnimatedState.COLLAPSED;this.isMouseTrackerEnabled=false;this.clearTimeoutsOfDescendants=null;this.timeout=null}Flyout.prototype={toggle:function(){switch(this.state){case AnimatedState.COLLAPSED:this.expand();break;case AnimatedState.EXPANDED:this.collapse();break;case AnimatedState.EXPANDING:this.collapse();break;case AnimatedState.COLLAPSING:this.expand();break}},expand:function(){var i,len;if(this.parent.state===AnimatedState.COLLAPSED||this.parent.state===AnimatedState.COLLAPSING){return true}var siblings=this.siblings();this.giveZIndexPriority(siblings);var that=this;var newLeftPos=this.group.flyoutPanelLeftPositions[this.level];if(this.state===AnimatedState.EXPANDED||this.state===AnimatedState.EXPANDING){return true}else if(this.state===AnimatedState.COLLAPSING){this.state=AnimatedState.EXPANDING;for(i=0,len=siblings.length;i<len;i++){siblings[i].isMouseTrackerEnabled=false}this.$container.stop({clearQueue:true}).animate({left:newLeftPos},{duration:this.options.expandDuration,done:function(){if(that.state===AnimatedState.EXPANDING){that.state=AnimatedState.EXPANDED;that.isMouseTrackerEnabled=true}}});this.$trigger.addClass("active");return true}if(this.level===0){this.group.onRootFlyoutActivation()}if(this.hasExpandedSiblings(siblings)){var activeChildrenOfActiveSiblings=this.activeChildrenOfActiveSiblings();for(i=0,len=activeChildrenOfActiveSiblings.length;i<len;i++){activeChildrenOfActiveSiblings[i].collapse()}this.state=AnimatedState.EXPANDED;this.giveMouseTrackerPriority(siblings);for(i=0,len=siblings.length;i<len;i++){siblings[i].state=AnimatedState.COLLAPSED;siblings[i].$trigger.removeClass("active");siblings[i].$target[0].scrollTop=0}}else if(this.hasExpandingSiblings(siblings)){this.state=AnimatedState.EXPANDED;this.giveMouseTrackerPriority(siblings);for(i=0,len=siblings.length;i<len;i++){siblings[i].state=AnimatedState.COLLAPSED;siblings[i].$trigger.removeClass("active");siblings[i].$target[0].scrollTop=0}}else if(this.hasCollapsingSiblings(siblings)){this.state=AnimatedState.EXPANDING;for(i=0,len=siblings.length;i<len;i++){siblings[i].state=AnimatedState.COLLAPSED;siblings[i].$trigger.removeClass("active");siblings[i].$target[0].scrollTop=0}this.$container.stop({clearQueue:true}).animate({left:newLeftPos},{duration:this.options.expandDuration,done:function(){if(that.state===AnimatedState.EXPANDING){that.state=AnimatedState.EXPANDED;that.isMouseTrackerEnabled=true}}})}else{if(this.options.isAnimated){this.state=AnimatedState.EXPANDING;this.$container[0].style.left=this.group.flyoutPanelParentLeftPositions[this.level]+"px";this.$container[0].style.visibility="visible";this.$container.animate({left:newLeftPos},{duration:this.options.expandDuration,done:function(){if(that.state===AnimatedState.EXPANDING){that.state=AnimatedState.EXPANDED;that.isMouseTrackerEnabled=true}}})}else{this.state=AnimatedState.EXPANDED;this.$container[0].style.left=newLeftPos+"px";this.$container[0].style.visibility="visible";that.isMouseTrackerEnabled=true}}this.$trigger.addClass("active")},collapse:function(){var i,len;var that=this;var dfd=$.Deferred();var onCollapsed=function(){that.state=AnimatedState.COLLAPSED;that.$container[0].style.visibility="hidden";if(that.level===0){that.group.onRootFlyoutDeactivation()}that.$target[0].scrollTop=0;dfd.resolve()};var onDone=function(){if(that.state===AnimatedState.COLLAPSING){onCollapsed()}};var onFail=function(){dfd.reject()};if(this.state===AnimatedState.COLLAPSED||this.state===AnimatedState.COLLAPSING){return false}else if(this.state===AnimatedState.EXPANDING){this.state=AnimatedState.COLLAPSING;this.isMouseTrackerEnabled=false;this.$container.stop({clearQueue:true}).animate({left:that.group.flyoutPanelParentLeftPositions[that.level]},{duration:this.options.collapseDuration,done:onDone,fail:onFail})}else if(this.state===AnimatedState.EXPANDED){this.state=AnimatedState.COLLAPSING;this.isMouseTrackerEnabled=false;var activeChildren=this.activeChildren();if(this.options.isAnimated){var animations=[];for(i=0,len=activeChildren.length;i<len;i++){animations[animations.length]=function(j){return activeChildren[j].collapse()}(i)}var childAnimation={};if(activeChildren.length){childAnimation=animations[0]}$.when(childAnimation).done(function(){that.$container.animate({left:that.group.flyoutPanelParentLeftPositions[that.level]},{duration:that.options.collapseDuration,done:onDone,fail:onFail})})}else{for(i=0,len=activeChildren.length;i<len;i++){activeChildren[i].collapse()}onCollapsed()}}this.$trigger.removeClass("active");return dfd.promise()},setupMouseTrackers:function(viewportHeight){var that=this;var x1=this.group.flyoutPanelLeftPositions[this.level];var y1=this.$target.offset().top;var destinationRect={x1:x1,y1:y1,x2:x1+this.group.options.flyoutPanelWidths[this.level],y2:y1+viewportHeight};var leaveTarget=function(){if(that.isMouseTrackerEnabled){that.inTarget=false;that.group.clearTimeoutRegistry(that.level);if(that.level===1){that.clearTimeoutsOfDescendants=setTimeout(function(){that.group.clearTimeoutRegistry(2)},10)}that.group.timeoutRegistry[that.group.timeoutRegistry.length]={level:that.level,fn:setTimeout(function(){if(that.parent.inTarget){that.collapse()}else{that.group.clearTimeoutRegistry();that.group.rootFlyout.collapse()}},that.options.timeout)}}};this.$container.on("mouseleave",leaveTarget);this.group.eventStack[this.group.eventStack.length]={obj:this.$container,eventType:"mouseleave",handler:leaveTarget};var enterTarget=function(){if(that.state===AnimatedState.EXPANDED||that.state===AnimatedState.EXPANDING){that.inTarget=true;that.group.clearTimeoutRegistry();clearTimeout(that.group.rootFlyout.timeout)}};this.$container.on("mouseenter",enterTarget);this.group.eventStack[this.group.eventStack.length]={obj:this.$container,eventType:"mouseenter",handler:enterTarget};var leaveTrigger=function(){if(that.parent.isMouseTrackerEnabled){that.group.clearTimeoutRegistry(that.level);that.group.timeoutRegistry[that.group.timeoutRegistry.length]={level:that.level,fn:setTimeout(function(){that.collapse()},that.options.timeout)}}};this.$trigger.on("mouseleave",leaveTrigger);this.group.eventStack[this.group.eventStack.length]={obj:this.$trigger,eventType:"mouseleave",handler:leaveTrigger};var enterTrigger=function(args){if(that.parent.isMouseTrackerEnabled){var delay=calculateDelay(args,destinationRect);that.group.clearTimeoutRegistry(that.level);clearTimeout(that.group.rootFlyout.clearTimeoutsOfDescendants);clearTimeout(that.clearTimeoutsOfDescendants);if(that.hasActiveSiblings()){that.group.timeoutRegistry[that.group.timeoutRegistry.length]={level:that.level,fn:setTimeout(function(){that.expand()},delay)}}else{that.expand()}return true}};this.group.mouseTrackerRegistry[this.id]=MouseTracker.add([[this.group.flyoutPanelLeftPositions[this.level-1],this.$trigger.offset().top,this.group.options.flyoutPanelWidths[this.level-1],this.options.triggerOuterHeight]],{inside:false,mouseEnter:enterTrigger,mouseLeave:function(){return true}})},siblings:function(){var tree=this.group.tree;var siblings=[];for(var key in tree){if(tree.hasOwnProperty(key)){var node=tree[key];if(node.level===this.level){if(key!==this.id){siblings[siblings.length]=node}}}}return siblings},children:function(){var tree=this.group.tree;var children=[];for(var key in tree){if(tree.hasOwnProperty(key)){var node=tree[key];if(node.level===this.level+1){children[children.length]=node}}}return children},descendants:function(){var tree=this.group.tree;var descendants=[];for(var key in tree){if(tree.hasOwnProperty(key)){var node=tree[key];if(node.level>this.level){if(node.hasAncestor(this)){descendants[descendants.length]=node}}}}return descendants},activeChildrenOfActiveSiblings:function(){var tree=this.group.tree;var children=[];for(var key in tree){if(tree.hasOwnProperty(key)){var node=tree[key];if(node.level===this.level){if(node.state===AnimatedState.EXPANDED||node.state===AnimatedState.EXPANDING){children=children.concat(node.activeChildren())}}}}return children},hasAncestor:function(possibleAncestor){if(this.parent.id===possibleAncestor.id){return true}else if(this.parent.level===0){return false}return this.parent.hasAncestor.call(this.parent,possibleAncestor)},hasExpandedSiblings:function(siblings){siblings=siblings||this.siblings();var found=false;var i=0;var len=siblings.length;while(!found&&i<len){if(siblings[i].state===AnimatedState.EXPANDED){found=true}i++}return found},hasExpandingSiblings:function(siblings){siblings=siblings||this.siblings();var found=false;var i=0;var len=siblings.length;while(!found&&i<len){if(siblings[i].state===AnimatedState.EXPANDING){found=true}i++}return found},hasActiveSiblings:function(siblings){siblings=siblings||this.siblings();var found=false;var i=0;var len=siblings.length;while(!found&&i<len){if(siblings[i].state===AnimatedState.EXPANDED||siblings[i].state===AnimatedState.EXPANDING){found=true}i++}return found},hasCollapsingSiblings:function(siblings){siblings=siblings||this.siblings();var found=false;var i=0;var len=siblings.length;while(!found&&i<len){if(siblings[i].state===AnimatedState.COLLAPSING){found=true}i++}return found},activeChildren:function(){var children=this.children();var activeChildren=[];for(var i=0,len=children.length;i<len;i++){var child=children[i];if(child.state===AnimatedState.EXPANDED||child.state===AnimatedState.EXPANDING){activeChildren[activeChildren.length]=child}}return activeChildren},setContainerZIndex:function(){this.$container[0].style.zIndex=this.options.zIndexBase-parseInt(this.level,10)*100},giveZIndexPriority:function(siblings){var zIndexBase=this.options.zIndexBase-parseInt(this.level,10)*100;this.$target[0].style.zIndex=zIndexBase+siblings.length;for(var i=0,len=siblings.length;i<len;i++){siblings[i].$target[0].style.zIndex=zIndexBase++}},giveMouseTrackerPriority:function(siblings){for(var i=0,len=siblings.length;i<len;i++){siblings[i].isMouseTrackerEnabled=false}this.isMouseTrackerEnabled=true}};return Flyout});define("libra/navigation/flyout-group",["libra/navigation/utils/navigation-utils","libra/navigation/mouse-tracker","libra/navigation/calculate-delay","libra/navigation/flyout","librastandardlib/vendor/hoverintent/hoverIntent","librastandardlib/event-utils/onWindowLoad"],function(Util,MouseTracker,calculateDelay,Flyout,hoverIntent,onWindowLoad){"use strict";var defaults={rootFlyoutTriggerSelector:"#aws-nav-flyout-trigger",searchfieldSelector:"#aws-nav-search",navSelector:"#aws-nav",footerSelector:"#aws-page-footer",flyoutPanelSelector:".aws-nav-flyout",flyoutPanelContentSelector:".aws-nav-flyout-content",jQueryEventNamespace:"aws_nav-flyout-group",isAnimated:true,isTouchOnly:false,hoverSensitivity:7,hoverInterval:50,mobileLayoutWidthThreshold:768,flyoutPanelWidths:[281,320,320]};var buildTree=function(parent,tree,level){if(tree===undefined){tree={};parent.parent=0;parent.level=0;tree[parent.id]=parent}level=level||1;var triggers=parent.$target.find("a[data-flyout]");for(var i=0,len=triggers.length;i<len;i++){var flyout=new Flyout(triggers[i],this,this.options);flyout.parent=parent;flyout.level=level;tree[flyout.id]=flyout;buildTree.call(this,flyout,tree,level+1)}return tree};var footerHeight=null;var headerHeight=null;var flyoutPanelElemsStyles=null;var $flyoutPanelContentElems=null;function FlyoutGroup($container,options){this.options=$.extend({},defaults,options);this.$container=$container;this.tree={};this.rootFlyout=null;this.timeoutRegistry=[];this.eventStack=[];this.mouseTrackerRegistry={};this.isFixedPositionLayout=true;this.flyoutsHavingEnabledMouseTrackersAtScrollTime=[];this.viewportHeightBeforeInputFocus=null;this.viewportHeightChangeAfterInputFocus=0;this.flyoutPanelLeftPositions=[];this.flyoutPanelParentLeftPositions=[];this.calculateFlyoutPanelLeftPositions();this.init()}FlyoutGroup.prototype={init:function(){this.rootFlyout=new Flyout(this.options.rootFlyoutTriggerSelector,this,this.options);this.tree=buildTree.call(this,this.rootFlyout);this.cacheHeaderHeight();this.cacheFooterHeight();if(Util.isLikelyMobile()||this.options.isTouchOnly){this.options.isTouchOnly=true;this.bindTouchEvents();if(Util.isLikelyMobile()){this.watchOrientationChangeEvent();this.watchInputFocusEvents()}}else{this.bindTouchEvents();this.bindHoverEventsOnRootFlyout()}var that=this;onWindowLoad(function(){if($(window).width>this.options.mobileLayoutWidthThreshold){this.resizeFlyoutHeights()}}.bind(this));this.setContainerZIndexes();if(!Util.isLikelyMobile()||Util.isIPad()){this.$container.find(this.options.flyoutPanelSelector).addClass("opacity")}this.bindSearchfieldFocusEvent();if(Util.isLikelyMobile()){this.isFixedPositionLayout=false}if(this.isFixedPositionLayout){this.applyFixedPositioning()}setTimeout(function(){var isAnimated=that.options.isAnimated;that.options.isAnimated=false;that.rootFlyout.collapse();that.options.isAnimated=isAnimated},0)},bindHoverEventsOnRootFlyout:function(){var that=this;hoverIntent($(this.rootFlyout.$trigger.selector)[0],function(){clearTimeout(that.rootFlyout.timeout);that.rootFlyout.expand()},function(){}).options({timeout:0,sensitivity:this.options.hoverSensitivity,interval:this.options.hoverInterval});var leaveTarget=function(){that.rootFlyout.inTarget=false;that.rootFlyout.clearTimeoutsOfDescendants=setTimeout(function(){that.clearTimeoutRegistry(1);that.clearTimeoutRegistry(2)},10);that.rootFlyout.timeout=setTimeout(function(){that.rootFlyout.collapse()},that.rootFlyout.options.timeout)};this.rootFlyout.$container.on("mouseleave",leaveTarget);var enterTarget=function(){that.rootFlyout.inTarget=true;clearTimeout(that.rootFlyout.timeout)};this.rootFlyout.$container.on("mouseenter",enterTarget);var leaveTrigger=function(){that.rootFlyout.timeout=setTimeout(function(){that.rootFlyout.collapse()},that.rootFlyout.options.timeout)};this.rootFlyout.$trigger.on("mouseleave",leaveTrigger);var enterTrigger=function(){clearTimeout(that.rootFlyout.timeout);clearTimeout(that.rootFlyout.clearTimeoutsOfDescendants)};this.rootFlyout.$trigger.on("mouseenter",enterTrigger)},bindTouchEvents:function(){var that=this;this.rootFlyout.$trigger.on("click",function(){that.rootFlyout.toggle()});this.$container.find('a[data-flyout][href^="javascript"]').each(function(){var flyout=that.findByTrigger(this);flyout.$trigger.on("click",function(){flyout.toggle()})})},bindCloseRootFlyoutOnDocumentClickEvent:function(){var eventName;if("ontouchstart"in window){eventName="touchstart."+this.options.jQueryEventNamespace+"_close"}else{eventName="click."+this.options.jQueryEventNamespace+"_close"}var that=this;$(document).on(eventName,function(event){var $eventTarget=$(event.target);if(!$eventTarget.closest(that.options.flyoutPanelSelector).length&&!$eventTarget.closest(that.options.rootFlyoutTriggerSelector).length){$(document).off(eventName);that.rootFlyout.collapse()}})},destroyCloseRootFlyoutOnDocumentClickEvent:function(){$(document).off("click."+this.options.jQueryEventNamespace+"_close")},bindSearchfieldFocusEvent:function(){var $input=this.$container.find(this.options.searchfieldSelector+' input[type="text"]');$input.on("focus",function(){$(this).parent().addClass("active")}).on("blur",function(){$(this).parent().removeClass("active")})},applyFixedPositioning:function(){$(this.options.flyoutPanelSelector).addClass("fixed");this.setFlyoutPanelTops()},watchScroll:function(){var that=this;$(window).on("scroll."+this.options.jQueryEventNamespace+"_watch-scroll",function(){that.setFlyoutPanelTops()})},destroyWatchScroll:function(){$(window).off("scroll."+this.options.jQueryEventNamespace+"_watch-scroll")},watchScrollAtSmallDebouncedInterval:function(){var that=this;Util.debounceWindowEvent(function(){for(var key in that.tree){if(that.tree.hasOwnProperty(key)){var node=that.tree[key];if(node.isMouseTrackerEnabled){that.flyoutsHavingEnabledMouseTrackersAtScrollTime[that.flyoutsHavingEnabledMouseTrackersAtScrollTime.length]=node}}}that.tearDownAllMouseTrackers()},"scroll."+this.options.jQueryEventNamespace+"_watch-small-scroll",20,this)},destroyWatchScrollAtSmallDebouncedInterval:function(){$(window).off("scroll."+this.options.jQueryEventNamespace+"_watch-small-scroll")},watchScrollAtLargeDebouncedInterval:function(){var that=this;Util.debounceWindowEvent(function(){that.setupAllMouseTrackers();for(var i=0,len=that.flyoutsHavingEnabledMouseTrackersAtScrollTime.length;i<len;i++){that.flyoutsHavingEnabledMouseTrackersAtScrollTime[i].isMouseTrackerEnabled=true}that.flyoutsHavingEnabledMouseTrackersAtScrollTime.length=0},"scroll."+this.options.jQueryEventNamespace+"_watch-large-scroll",300,this)},destroyWatchScrollAtLargeDebouncedInterval:function(){$(window).off("scroll."+this.options.jQueryEventNamespace+"_watch-large-scroll")},watchResize:function(){Util.debounceWindowEvent(function(){this.cacheHeaderHeight();this.cacheFooterHeight();this.resizeFlyoutHeights()},"resize."+this.options.jQueryEventNamespace+"-watch_resize",40,this)},destroyWatchResize:function(){$(window).off("resize."+this.options.jQueryEventNamespace+"-watch_resize")},watchOrientationChangeEvent:function(){this.options.viewportHeightBeforeInputFocus=$(window).height();var that=this;$(window).on("orientationchange."+this.options.jQueryEventNamespace,function(){that.options.viewportHeightBeforeInputFocus=$(window).height();that.rootFlyout.collapse()})},watchInputFocusEvents:function(){var that=this;$(':input[type="text"]').one("focus."+this.options.jQueryEventNamespace,function(){that.viewportHeightChangeAfterInputFocus=that.viewportHeightBeforeInputFocus-$(window).height()})},onRootFlyoutActivation:function(){this.cacheHeaderHeight();this.cacheFooterHeight();this.resizeFlyoutHeights();if(this.isFixedPositionLayout){this.setFlyoutPanelTops();this.watchScroll()}this.watchResize();if(!this.options.isTouchOnly){this.setupAllMouseTrackers();this.watchScrollAtSmallDebouncedInterval();this.watchScrollAtLargeDebouncedInterval()}this.$container.trigger("custom_aws_nav-popover_close_aws-nav-flyout-trigger");this.$container.trigger("custom_aws_nav-dropdown_close");var $rootFlyout=$(this.options.flyoutPanelSelector+".level-0");$rootFlyout.trigger("custom_aws_nav-flyout_before-root-open");setTimeout(function(){$rootFlyout.trigger("custom_aws_nav-flyout_after-root-open")},this.rootFlyout.options.expandDuration);this.bindCloseRootFlyoutOnDocumentClickEvent()},onRootFlyoutDeactivation:function(){if(!this.options.isTouchOnly){this.tearDownAllMouseTrackers();this.destroyWatchScrollAtSmallDebouncedInterval();this.destroyWatchScrollAtLargeDebouncedInterval()}this.destroyWatchResize();if(this.isFixedPositionLayout){this.destroyWatchScroll()}if(Util.isLikelyMobile()){$(this.options.searchfieldSelector+' input[type="text"]').blur();window.scroll(0,0)}this.destroyCloseRootFlyoutOnDocumentClickEvent()},clearTimeoutRegistry:function(level){for(var i=0,len=this.timeoutRegistry.length;i<len;i++){if(this.timeoutRegistry[i].level===level||typeof level==="undefined"){clearTimeout(this.timeoutRegistry[i].fn)}}if(typeof level==="undefined"){this.timeoutRegistry.length=0}},flushEventStack:function(){for(var i=0,len=this.eventStack.length;i<len;i++){var event=this.eventStack[i];event.obj.off(event.eventType,event.handler)}this.eventStack.length=0},findByTrigger:function(el){var $trigger=$(el);var id=$trigger.attr("data-flyout");return this.tree[id]},cacheHeaderHeight:function(){headerHeight=$(this.options.navSelector).height()},cacheFooterHeight:function(){var $footer=$(this.options.footerSelector);if($footer.length){footerHeight=$(document).height()-$footer.offset().top}else{footerHeight=0}},calculateFlyoutPanelLeftPositions:function(){var widths=this.options.flyoutPanelWidths;var leftPositions=[];var parentLeftPositions=[];var total=0;leftPositions[leftPositions.length]=total;parentLeftPositions[parentLeftPositions.length]=-widths[0];parentLeftPositions[parentLeftPositions.length]=widths[0]-widths[1];for(var i=0,len=widths.length-1;i<len;i++){if(i!==0){parentLeftPositions[parentLeftPositions.length]=total-(widths[i+1]-widths[i])}total+=widths[i];leftPositions[leftPositions.length]=total}this.flyoutPanelLeftPositions=leftPositions;this.flyoutPanelParentLeftPositions=parentLeftPositions},setContainerZIndexes:function(){for(var node in this.tree){if(this.tree.hasOwnProperty(node)){this.tree[node].setContainerZIndex()}}},setFlyoutPanelTops:function(){var $document=$(document);var documentHeight=$document.height();var scrollTop=$document.scrollTop();var viewportHeight=$(window).height();var i,len;var targetTop=headerHeight;if(flyoutPanelElemsStyles===null){var $flyoutPanelElems=$(this.options.flyoutPanelContentSelector);flyoutPanelElemsStyles=[];for(i=0,len=$flyoutPanelElems.length;i<len;i++){flyoutPanelElemsStyles[flyoutPanelElemsStyles.length]=$flyoutPanelElems[i].style}}if(targetTop!==null){for(i=0,len=flyoutPanelElemsStyles.length;i<len;i++){flyoutPanelElemsStyles[i].top=targetTop+"px"}this.resizeFlyoutContentHeights(documentHeight,viewportHeight,scrollTop);var that=this;setTimeout(function(){that.resizeFlyoutContentHeights()},500)}},resizeFlyoutHeights:function(){var documentHeight=$(document).height();var viewportHeight=$(window).height();this.resizeFlyoutPanelHeights(documentHeight);this.resizeFlyoutContentHeights(documentHeight,viewportHeight)},resizeFlyoutPanelHeights:function(documentHeight){var $footer=$(this.options.footerSelector);var footerBottom=$footer.offset().top+$footer.height();var targetHeight=Math.min(footerBottom,documentHeight);$(this.options.flyoutPanelSelector).css({height:targetHeight})},resizeFlyoutContentHeights:function(documentHeight,viewportHeight,scrollTop){documentHeight=documentHeight||$(document).height();viewportHeight=viewportHeight||$(window).height();scrollTop=scrollTop||$(window).scrollTop();if(Util.isLikelyMobile()){this.viewportHeightBeforeInputFocus=viewportHeight}var ruleA,ruleB;var footerHeightOffset=this.getVisibleFooterHeight();ruleA=viewportHeight-headerHeight-footerHeightOffset;ruleB=documentHeight-headerHeight-footerHeight;if($flyoutPanelContentElems===null){$flyoutPanelContentElems=$(this.options.flyoutPanelContentSelector)}$flyoutPanelContentElems.css({height:Math.min(ruleA,ruleB)})},setupAllMouseTrackers:function(){var viewportHeight=$(window).height();var tree=this.tree;for(var key in tree){if(tree.hasOwnProperty(key)){var node=tree[key];if(node!==this.rootFlyout){node.setupMouseTrackers(viewportHeight)}}}},tearDownAllMouseTrackers:function(){for(var id in this.mouseTrackerRegistry){if(this.mouseTrackerRegistry.hasOwnProperty(id)){MouseTracker.remove(this.mouseTrackerRegistry[id]);delete this.mouseTrackerRegistry[id]}}this.flushEventStack();var tree=this.tree;for(var key in tree){if(tree.hasOwnProperty(key)){tree[key].isMouseTrackerEnabled=false}}},getVisibleFooterHeight:function(){var $footer=$(this.options.footerSelector);var scrollTop=$(window).scrollTop();var scrollBottom=scrollTop+$(window).height();var footerTop=$footer.offset().top;var footerBottom=footerTop+$footer.outerHeight();var visibleTop=footerTop;var visibleBottom=footerBottom;if(footerTop<scrollTop){visibleTop=scrollTop}if(footerBottom>scrollBottom){visibleBottom=scrollBottom}if(visibleBottom-visibleTop>0){return visibleBottom-visibleTop}return 0}};return FlyoutGroup});define("libra/navigation/navigation-mobile",[],function(){"use strict";var Util={debounceWindowEvent:function(func,eventName,timeout,context){var that=context||this;var count=0;$(window).on(eventName,function(){var id=++count;window.setTimeout(function(){if(id===count){func.call(that)}},timeout)})}};var defaults={navMobileSelector:"#aws-nav-mobile",mobileDropdownSelector:".aws-nav-mobile-dropdown",mobileDropdownMenuSelector:"#aws-nav-mobile-dropdown-menu",mobileDropdownMenuGroupSelector:".aws-nav-mobile-menu-group",pageContentSelector:"#aws-page-content",headerSelector:"#aws-nav-mobile-header",footerSelector:"#aws-page-footer",searchFormSelector:"#aws-nav-mobile-dropdown-search form",subnavSelector:".lb-sticky-subnav",jQueryEventNamespace:"aws-nav-mobile",menuItemShowDurationPerChild:130,menuItemHideDuration:160,hideActiveSiblings:true,mobileLayoutWidthThreshold:768};function NavMobile(){var configOptions=typeof AWS.NavMobile!=="undefined"?AWS.NavMobile:{};this.options=$.extend({},defaults,configOptions);this.$el=$(this.options.navMobileSelector);if(!this.$el.length){return}this.init()}NavMobile.prototype={init:function(){if($(window).width()>this.options.mobileLayoutWidthThreshold){this.isMobileLayoutActive=false}else{this.isMobileLayoutActive=true;this.bindDeactivateMobileLayoutResizeEvent()}this.bindDropdownEvents();this.bindMenuItemEvents();this.preventEmptySearch()},bindDropdownEvents:function(){var that=this;this.$el.find("div[data-dropdown]").each(function(){var $this=$(this);var id=$this.attr("data-dropdown");var eventName="click."+that.options.jQueryEventNamespace;$this.on(eventName,function(){var target=that.$el.find("#"+id);that.toggleDropdown(this,target)})})},bindMenuItemEvents:function(){var that=this;var eventName="click."+that.options.jQueryEventNamespace;$(this.options.mobileDropdownMenuSelector).on(eventName,'a[href^="javascript"]',function(){var $this=$(this);if($this.next(that.options.mobileDropdownMenuGroupSelector).length){that.toggleMenuItem($this.parent())}})},bindPageContentHeightResizeEvent:function(){var resizeEventName="resize."+this.options.jQueryEventNamespace+"_page-content-height";Util.debounceWindowEvent(this.setPageContentHeightToActiveDropdownHeight,resizeEventName,80,this)},destroyPageContentHeightResizeEvent:function(){var eventName="resize."+this.options.jQueryEventNamespace+"_page-content-height";$(window).off(eventName)},bindDeactivateMobileLayoutResizeEvent:function(){var resizeEventName="resize."+this.options.jQueryEventNamespace+"_deactivate-mobile-layout";Util.debounceWindowEvent(this.deactivateMobileLayout,resizeEventName,40,this)},destroyDeactivateMobileLayoutResizeEvent:function(){var eventName="resize."+this.options.jQueryEventNamespace+"_deactivate-mobile-layout";$(window).off(eventName)},toggleMenuItem:function(el){var $el=$(el);if($el.hasClass("expanded")){this.hideMenuItem(el)}else if($el.hasClass("expanding")){this.hideMenuItem(el)}else if($el.hasClass("collapsing")){this.showMenuItem(el)}else{this.showMenuItem(el)}},showMenuItem:function(el){var that=this;var $el=$(el);var $group=$el.children(this.options.mobileDropdownMenuGroupSelector).first();var groupLevel=$group.parentsUntil(this.options.navMobileSelector,this.options.mobileDropdownMenuGroupSelector).length+1;$el.addClass("active expanding").removeClass("expanded collapsing");$el.parentsUntil(this.options.navMobileSelector,".active").addClass("aws-has-active-children");var childLiCount=$group.find(".aws-link").filter(function(idx,elem){var elGroupLevel=$(elem).parentsUntil(that.options.navMobileSelector,that.options.mobileDropdownMenuGroupSelector).length;if(groupLevel===elGroupLevel){return true}return false}).length;var duration=this.options.menuItemShowDurationPerChild*childLiCount*Math.pow(.88,childLiCount);duration=Math.ceil(duration);duration=Math.max(duration,100);duration=Math.min(duration,2e3);$group.slideToggle({duration:duration,done:function(){if($el.hasClass("expanding")){$el.addClass("expanded").removeClass("expanding")}}});if(this.options.hideActiveSiblings){$el.closest(this.options.mobileDropdownMenuGroupSelector).find(".aws-parent.active").not($el).each(function(){that.hideMenuItemNow(this);that.hideDescendantMenuItems(this)})}},hideMenuItem:function(el){var that=this;var $el=$(el);$el.addClass("collapsing").removeClass("expanded expanding");$el.children(this.options.mobileDropdownMenuGroupSelector).first().slideToggle({duration:this.options.menuItemHideDuration,done:function(){if($el.hasClass("collapsing")){$el.removeClass("active collapsing");that.hideDescendantMenuItems(this);if(!$el.closest(that.options.mobileDropdownMenuGroupSelector).closest(".aws-has-active-children").find(".aws-parent.active").length){$el.parentsUntil(that.options.navMobileSelector,".aws-has-active-children").removeClass("aws-has-active-children")}}}})},hideMenuItemNow:function(el){var $el=$(el);$el.removeClass("active expanded expanding collapsing");$el.children(this.options.mobileDropdownMenuGroupSelector).hide();if(!$el.closest(this.options.mobileDropdownMenuGroupSelector).closest(".aws-has-active-children").find(".aws-parent.active").length){$el.parentsUntil(this.options.navMobileSelector,".aws-has-active-children").removeClass("aws-has-active-children")}},hideDescendantMenuItems:function(el){var that=this;$(el).find(".aws-parent.active").each(function(){that.hideMenuItemNow(this)})},hideAllMenuItems:function(){var that=this;$(this.options.mobileDropdownMenuSelector).find(".aws-parent.active").each(function(){that.hideMenuItemNow(this)})},getHeaderHeight:function(){var $header=$(this.options.headerSelector);var headerHeight=$header.outerHeight()+$header.offset().top;return headerHeight},toggleDropdown:function(el,target){if($(target).is(":visible")){this.hideDropdown(el,target)}else{this.hideAllDropdowns();this.showDropdown(el,target)}},showDropdown:function(el,target){var $target=$(target);$(el).addClass("active");$target.css("top",this.getHeaderHeight());$target.show();this.hidePageContent();this.bindPageContentHeightResizeEvent();if(!this.isMobileLayoutActive){this.isMobileLayoutActive=true;this.bindDeactivateMobileLayoutResizeEvent()}},hideDropdown:function(el,target){$(el).removeClass("active");this.showPageContent();$(target).hide();var that=this;if("#"+$(this).attr("id")===that.options.mobileDropdownMenuSelector){that.hideAllMenuItems()}this.destroyPageContentHeightResizeEvent()},hideAllDropdowns:function(){this.$el.find("div[data-dropdown]").each(function(){var $this=$(this);$this.removeClass("active");var id=$this.attr("data-dropdown");var $el=$("#"+id);$el.hide()});this.hideAllMenuItems()},showPageContent:function(){$(this.options.footerSelector).show();$(this.options.pageContentSelector).css("height","auto").css("overflow","visible")},hidePageContent:function(){$(this.options.footerSelector).hide();this.setPageContentHeightToActiveDropdownHeight()},setPageContentHeightToActiveDropdownHeight:function(){var $activeDropdown=$(this.options.mobileDropdownSelector).filter(":visible");if($activeDropdown.length){var dropdownHeight=$activeDropdown.height()-($(this.options.headerSelector).outerHeight(true)-$(this.options.headerSelector).height());if($(this.options.subnavSelector).length>0){
dropdownHeight-=$(this.options.subnavSelector).outerHeight(true)}$(this.options.pageContentSelector).css("height",dropdownHeight).css("overflow","hidden")}$(this.options.mobileDropdownSelector).css("top",this.getHeaderHeight())},deactivateMobileLayout:function(){if($(window).width()>this.options.mobileLayoutWidthThreshold&&this.isMobileLayoutActive){this.isMobileLayoutActive=false;this.hideAllDropdowns();this.showPageContent();this.destroyDeactivateMobileLayoutResizeEvent()}},preventEmptySearch:function(){this.$el.on("submit",$(this.options.searchFormSelector),function(e){var $requiredFields=$(this).find("[data-aws-required]");for(var i=0,len=$requiredFields.length;i<len;i++){if($requiredFields[i].value===""){e.preventDefault()}}})}};AWS.NavMobile=NavMobile;$(document).ready(function(){new NavMobile})});/*! modernizr 3.5.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-touchevents-setclasses !*/
define("libra/vendor/modernizr",[],function(){!function(e,n,t){function o(e,n){return typeof e===n}function s(){var e,n,t,s,a,i,r;for(var l in c)if(c.hasOwnProperty(l)){if(e=[],n=c[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(s=o(n.fn,"function")?n.fn():n.fn,a=0;a<e.length;a++)i=e[a],r=i.split("."),1===r.length?Modernizr[r[0]]=s:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=s),f.push((s?"":"no-")+r.join("-"))}}function a(e){var n=u.className,t=Modernizr._config.classPrefix||"";if(p&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),p?u.className.baseVal=n:u.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function r(){var e=n.body;return e||(e=i(p?"svg":"body"),e.fake=!0),e}function l(e,t,o,s){var a,l,f,c,d="modernizr",p=i("div"),h=r();if(parseInt(o,10))for(;o--;)f=i("div"),f.id=s?s[o]:d+(o+1),p.appendChild(f);return a=i("style"),a.type="text/css",a.id="s"+d,(h.fake?h:p).appendChild(a),h.appendChild(p),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(n.createTextNode(e)),p.id=d,h.fake&&(h.style.background="",h.style.overflow="hidden",c=u.style.overflow,u.style.overflow="hidden",u.appendChild(h)),l=t(p,e),h.fake?(h.parentNode.removeChild(h),u.style.overflow=c,u.offsetHeight):p.parentNode.removeChild(p),!!l}var f=[],c=[],d={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){c.push({name:e,fn:n,options:t})},addAsyncTest:function(e){c.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=d,Modernizr=new Modernizr;var u=n.documentElement,p="svg"===u.nodeName.toLowerCase(),h=d._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];d._prefixes=h;var m=d.testStyles=l;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=["@media (",h.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");m(o,function(e){t=9===e.offsetTop})}return t}),s(),a(f),delete d.addTest,delete d.addAsyncTest;for(var v=0;v<Modernizr._q.length;v++)Modernizr._q[v]();e.Modernizr=Modernizr}(window,document)});define("libra/navigation/navigation",["libra/navigation/utils/navigation-utils","libra/navigation/quick-links","libra/navigation/dropdown-group","libra/footer/page-footer","libra/navigation/popover","libra/navigation/flyout-group","librastandardlib/event-utils/onWindowLoad","libra/navigation/navigation-mobile","libra/vendor/modernizr"],function(Util,QuicklinksController,DropdownGroup,PageFooter,PopoverController,FlyoutGroup,onWindowLoad){"use strict";var Nav={defaults:{navSelector:"#aws-nav",animationsEnabled:true,forceTouch:false,supportedLanguages:["en"],defaultLanguage:"en",searchFormSelector:"#aws-nav-search form"},init:function(){var configOptions=typeof AWS.Nav!=="undefined"?AWS.Nav:{};this.options=$.extend({},this.defaults,configOptions);this.$el=$(this.options.navSelector);if(!this.$el.length){return}if(AWS.PageSettings&&AWS.PageSettings.supportedLanguages){this.options.supportedLanguages=AWS.PageSettings.supportedLanguages}if(AWS.PageSettings&&AWS.PageSettings.defaultLanguage){this.options.defaultLanguage=AWS.PageSettings.defaultLanguage}this.isTouchOnly=this.options.forceTouch;if(Util.isLikelyMobile()&&!Util.isIPad()){this.options.animationsEnabled=false}this.$el.on("submit",$(this.options.searchFormSelector),function(e){var $requiredFields=$(this).find("[data-aws-required]");for(var i=0,len=$requiredFields.length;i<len;i++){if($requiredFields[i].value===""){e.preventDefault()}}});this.quicklinksController=new QuicklinksController(this.$el,{isTouchOnly:this.isTouchOnly,isAnimated:this.options.animationsEnabled,supportedLanguages:this.options.supportedLanguages,defaultLanguage:this.options.defaultLanguage});this.dropdownGroup=DropdownGroup.init(this.$el,$.extend({},{isTouchOnly:this.isTouchOnly,isAnimated:this.options.animationsEnabled,supportedLanguages:this.options.supportedLanguages,defaultLanguage:this.options.defaultLanguage},this.options.dropdown));this.pageFooter=PageFooter.init(this.$el,$.extend({},{supportedLanguages:this.options.supportedLanguages,defaultLanguage:this.options.defaultLanguage},this.options.pageFooter));this.popoverController=PopoverController.init(this.$el,$.extend({},{isTouchOnly:this.isTouchOnly,isAnimated:this.options.animationsEnabled},this.options.popover));this.flyoutGroup=new FlyoutGroup(this.$el,$.extend({},{isTouchOnly:this.isTouchOnly,isAnimated:this.options.animationsEnabled&&!Util.isIPad()},this.options.flyout))},isTouchOnly:false};AWS.Nav=Nav;if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){Nav.init()}else{var hasFired=false;document.addEventListener("DOMContentLoaded",function(){if(!hasFired){hasFired=true;Nav.init()}},false);onWindowLoad(function(){if(!hasFired){hasFired=true;Nav.init()}})}});define("scripts",[],function(){"use strict";$.awsComponent={columnBuilder:function(){}}});define("libra/v1-polyfills/polyfills",["scripts"],function(){});define("libraui/dom-utils/navigateElements",[],function(){"use strict";var ops={forward:{iter:"nextAll",reset:"first"},reverse:{iter:"prevAll",reset:"last"}};var navigateElements=function(direction,$elem){var op=ops[direction];var $visibleElems=$elem[op.iter]().filter(":visible");if($visibleElems.length>0){$visibleElems.eq(0)[0].focus()}else{$elem.siblings(":visible")[op.reset]()[0].focus()}};return navigateElements});define("libraui/components/dropdown",["libraui/dom-utils/navigateElements"],function(navigateElements){"use strict";var defaults={dropdownSelector:".lb-dropdown",hiddenInputSelector:".lb-dropdown-selected",labelSelector:".lb-dropdown-label",inputChangeEvent:null,redirect:false};var ACTIVE_CLASS="lb-active";var OPEN_CLASS="lb-open";var DISABLED_CLASS="lb-disabled";var instantiationCount=0;var Dropdown=function(elem,options){this.$elem=$(elem);this.options=$.extend({},defaults,this.$elem.data(),options);this.$items=this.$elem.find("li");this.$selected=this.$elem.find(this.options.hiddenInputSelector);this.$label=this.$elem.find(this.options.labelSelector);this.uid=++instantiationCount;this.clickEvent="click"+this.options.dropdownSelector;this.keydownEvent="keydown"+this.options.dropdownSelector;this.documentClickEvent=this.clickEvent+"_"+this.uid;this.eventBound=false;var selectedValue=this.options.activeItem===undefined?this.$items.first().data("value"):this.options.activeItem;this.select(selectedValue);this.bindEventHandlers()};Dropdown.prototype={constructor:Dropdown,bindEventHandlers:function(){var that=this;this.$label.on(this.clickEvent+" "+this.keydownEvent,function(e){if(e.type!=="keydown"||e.key===" "||e.key==="Enter"){e.preventDefault();if(that.$elem.hasClass(OPEN_CLASS)){that.close()}else{that.open()}}});this.$elem.on(this.clickEvent+" "+this.keydownEvent,"li",function(e){var $item=$(this);e.preventDefault();if(e.type==="click"||e.key===" "||e.key==="Enter"){that.select($item.data("value"));if(that.options.inputChangeEvent!==null){that.$selected.trigger(that.options.inputChangeEvent)}that.close();if(that.options.redirect===true){var href=$item.data("value");if(href!==undefined&&href!==""){location.href=href}}}else{switch(e.key){case"ArrowDown":case"down":navigateElements("forward",$item);break;case"ArrowUp":case"up":navigateElements("reverse",$item);break}}});this.eventBound=true},unbindEventHandlers:function(){this.$label.off(this.clickEvent+" "+this.keydownEvent);this.$elem.off(this.clickEvent+" "+this.keydownEvent);this.eventBound=false},open:function(){this.$elem.addClass(OPEN_CLASS);this.activeItem[0].focus();this.addDocumentClickHandler()},close:function(){this.$elem.removeClass(OPEN_CLASS);this.$label.focus();this.removeDocumentClickHandler()},select:function(selectedValue){this.setActiveItem(selectedValue);this.$selected.val(selectedValue);this.updateLabel()},updateLabel:function(){if(this.activeItem.length>0){this.$label.html(this.activeItem[0].innerHTML)}},setActiveItem:function(selectedValue){this.$items.removeClass(ACTIVE_CLASS);this.activeItem=this.$items.filter('[data-value="'+selectedValue+'"]');this.activeItem.addClass(ACTIVE_CLASS)},addDocumentClickHandler:function(){$(document).on(this.documentClickEvent,function(e){var evt=e.target||e.srcElement;var $target=$(evt);if(!$target.closest(this.$elem).length){this.$elem.removeClass(OPEN_CLASS);this.removeDocumentClickHandler()}}.bind(this))},removeDocumentClickHandler:function(){$(document).off(this.documentClickEvent)},enable:function(){this.$elem.removeClass(DISABLED_CLASS);if(!this.eventBound){this.bindEventHandlers()}},disable:function(){this.$elem.addClass(DISABLED_CLASS);this.unbindEventHandlers()}};return Dropdown});define("librastandardlib/detection-utils/detection-utils",["librastandardlib/test-helpers/browser-globals/window"],function(window){"use strict";var DetectionUtils={cache:{},isMobile:function(){if(typeof DetectionUtils.cache.isMobile==="undefined"){var re=new RegExp(/iPhone|iPod|iPad|Android|(?=.*\bAndroid\b)(?=.*\bMobile\b)|IEMobile|(?=.*\bWindows\b)(?=.*\bTouch\b)|Windows Phone|Opera Mini|(?=.*\bFirefox\b)(?=.*\bMobile\b)|BlackBerry|Nexus 7|BNTV250|Kindle Fire|Silk|webOS|GT-P1000/i);var res=re.test(window.navigator.userAgent);DetectionUtils.cache.isMobile=res;return res}return DetectionUtils.cache.isMobile},isLikelyMobile:function(){if(typeof DetectionUtils.cache.isLikelyMobile==="undefined"){var res=DetectionUtils.isMobile()||DetectionUtils.isTouchCapable()&&window.innerWidth<=800;DetectionUtils.cache.isLikelyMobile=res;return res}return DetectionUtils.cache.isLikelyMobile},isTouchCapable:function(){if(typeof DetectionUtils.cache.isTouchCapable==="undefined"){var res=!!("Modernizr"in window&&window.Modernizr.touchevents||window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints||("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch));DetectionUtils.cache.isTouchCapable=res;return res}return DetectionUtils.cache.isTouchCapable}};return DetectionUtils});define("libraui/components/popover",["librastandardlib/dom-utils/breakpoint-helper","librastandardlib/detection-utils/detection-utils","librastandardlib/event-utils/debounceWindowEvent","librastandardlib/vendor/hoverintent/hoverIntent","librastandardlib/test-helpers/browser-globals/window"],function(BreakpointHelper,DetectionUtils,debounceWindowEvent,hoverIntent,window){"use strict";function bindWindowResizeEvent(resizeEvent){debounceWindowEvent(function(){popoverRegistry.forEach(function(popover){if(popover.isActive){popover.deactivate()}})},resizeEvent,40);debounceWindowEvent(function(){popoverRegistry.forEach(function(popover){popover.resetStyle=true;popover.setPosition();setTimeout(function(){popover.setPosition()},400)})},resizeEvent,100)}var defaults={popoverSelector:".lb-popover",triggerSelector:"data-lb-popover-trigger",mountSelector:".lb-trigger-mount",activeClass:"lb-active",inactiveClass:"lb-inactive",openClass:"lb-open",readyClass:"lb-ready",arrowClass:"lb-arrow",innerArrowClass:"lb-arrow-inner",action:"click",position:"top",anchorOffset:10,arrowWidth:9,viewportMargin:20,hoverSensitivity:7,hoverInterval:50,timeout:260};var positions={"top-left":true,top:true,"top-right":true,"bottom-left":true,bottom:true,"bottom-right":true,"left-top":false,left:false,"left-bottom":false,"right-top":false,right:false,"right-bottom":false};var opposites={top:"bottom",bottom:"top",left:"right",right:"left"};var instantiationCount=0;var hasSetClassHandlers=false;var popoverRegistry=[];var Popover=function(elem){this.$elem=$(elem);this.options=$.extend({},defaults,this.$elem.data());this.uid=++instantiationCount;this.$trigger=$("["+this.options.triggerSelector+'="'+this.options.id+'"]');if(this.$trigger.length){this.$elem.detach().appendTo("body");var $mount=this.$trigger.find(this.options.mountSelector);if($mount.length){this.$mount=$mount}else{this.$mount=this.$trigger}this.clickEvent="click."+this.options.popoverSelector+"_"+this.uid;this.resizeEvent="resize."+this.options.popoverSelector;this.scrollEvent="scroll."+this.options.popoverSelector+"_"+this.uid;this.isActive=false;this.timeout=null;this.hasActivatedByHover=false;this.isTriggerFixed=false;this.hasDeterminedFixedPosition=false;this.resetStyle=true;this.bindActivationHandlers();this.addArrow();this.$arrow=this.$elem.find("."+this.options.arrowClass);popoverRegistry.push(this);if(!hasSetClassHandlers){bindWindowResizeEvent(this.resizeEvent);hasSetClassHandlers=true}}};Popover.prototype={constructor:Popover,bindActivationHandlers:function(){if(this.options.action==="hover"){this.bindClickEvents();if(!DetectionUtils.isLikelyMobile()){this.bindHoverEvents()}}else if(this.options.action==="clickAndHover"){if(DetectionUtils.isLikelyMobile()){this.bindClickEvents()}else{this.bindHoverEvents()}}else{this.bindClickEvents()}},bindClickEvents:function(){this.$trigger.on(this.clickEvent,function(e){e.preventDefault();if(this.options.action==="hover"&&this.hasActivatedByHover){return}this.toggle()}.bind(this))},bindHoverEvents:function(){var that=this;hoverIntent(this.$trigger[0],function(){that.hasActivatedByHover=true;if(!that.isActive){that.activate()}},function(){}).options({timeout:0,sensitivity:this.options.hoverSensitivity,interval:this.options.hoverInterval});var enterTrigger=function(){clearTimeout(that.timeout)};this.$trigger.on("mouseenter",enterTrigger);var enterTarget=function(){clearTimeout(that.timeout)};this.$elem.on("mouseenter",enterTarget);var leaveTrigger=function(){that.timeout=setTimeout(function(){that.deactivate()},that.options.timeout)};this.$trigger.on("mouseleave",leaveTrigger);var leaveTarget=function(){that.timeout=setTimeout(function(){that.deactivate()},that.options.timeout)};this.$elem.on("mouseleave",leaveTarget)},setPosition:function(){var $window=$(window);if(this.resetStyle){this.removeClassesHavingPrefix(this.$elem,this.options.openClass)}this.$elem.css("width","");this.$arrow.css({left:"",top:""});var parts=this.options.position.split("-");var side=parts[0];var offsetSide=parts.length>1?parts[1]:"center";var isDirectionVertical=positions[this.options.position];var mountWidth=this.$mount.outerWidth();var mountHeight=this.$mount.outerHeight();var mountOffset=this.$mount.offset();var mountPos={};mountPos.top=mountOffset.top;mountPos.left=mountOffset.left;mountPos.bottom=mountPos.top+mountHeight;mountPos.right=mountPos.left+mountWidth;var targetWidth=this.$elem.outerWidth();var targetHeight=this.$elem.outerHeight();var arrowWidth=this.options.arrowWidth;
// Switch to vertical direction on mobile because of limited viewport
if(!BreakpointHelper.isMidUp()&&!isDirectionVertical){side="top";offsetSide="center";isDirectionVertical=true}function getTargetPosition(side,correction){var top;var left;if(isDirectionVertical){top=mountPos[opposites[side]]+arrowWidth;if(side==="bottom"){top-=targetHeight+arrowWidth*2}left=mountPos.left+mountWidth/2+correction;if(offsetSide==="center"){left+=-(targetWidth/2)}else if(offsetSide==="left"){left+=-arrowWidth-this.options.anchorOffset}else if(offsetSide==="right"){left+=arrowWidth-targetWidth+this.options.anchorOffset}if(correction!==0){var arrowLeft=mountPos.left+mountWidth/2-left;this.$arrow.css("left",arrowLeft+"px")}}else{left=mountPos[opposites[side]]+arrowWidth;if(side==="right"){left-=targetWidth+arrowWidth*2}top=mountPos.top+mountHeight/2+correction;if(offsetSide==="center"){top+=-(targetHeight/2)}else if(offsetSide==="top"){top+=-arrowWidth-this.options.anchorOffset}else if(offsetSide==="bottom"){top+=arrowWidth-targetHeight+this.options.anchorOffset}if(correction<0){top=Math.max(top,mountPos.top+mountHeight/2-targetHeight+arrowWidth+this.options.anchorOffset)}else if(correction>0){top=Math.min(top,mountPos.top+mountHeight/2-arrowWidth-this.options.anchorOffset)}if(correction!==0){var arrowTop=mountPos.top+mountHeight/2-top;this.$arrow.css("top",arrowTop+"px")}}return{top:top,left:left}}var pos=getTargetPosition.call(this,side,0);var collisions=this.getPositionRelativeToViewport(pos.top,pos.left,targetWidth,targetHeight,$window);var newSide=this.getNewAnchorSide(side,collisions,mountPos,mountWidth,mountHeight,targetHeight,window);if(newSide){side=newSide}var hasNewWidth=false;if(!isDirectionVertical){var width=-(this.options.arrowWidth+this.options.viewportMargin);if(side==="left"){width+=window.innerWidth-mountPos.left-mountWidth}else if(side==="right"){width+=mountPos.left}if(targetWidth>width){this.$elem.css("width",width+"px");targetWidth=width;hasNewWidth=true;targetHeight=this.$elem.outerHeight();collisions=this.getPositionRelativeToViewport(pos.top,pos.left,targetWidth,targetHeight,$window)}}var correction=this.getCorrection(isDirectionVertical,collisions);if(newSide||hasNewWidth||correction!==0){pos=getTargetPosition.call(this,side,correction)}this.$elem.css({top:pos.top,left:pos.left});this.$elem.addClass([this.options.openClass,side,offsetSide].join("-"))},getCorrection:function(isDirectionVertical,collisions){var correction=0;if(isDirectionVertical){if(collisions.right<0){correction=collisions.right}else if(collisions.left>0){correction=collisions.left}}else{if(collisions.bottom<0){correction=collisions.bottom}else if(collisions.top>0){correction=collisions.top}}return correction},getNewAnchorSide:function(side,collisions,mountPos,mountWidth,mountHeight,targetHeight,window){if(side==="top"&&collisions.bottom<0||side==="bottom"&&collisions.top>0){var topSpaceInViewport=mountPos.top-$(document).scrollTop();var bottomSpace=window.innerHeight-topSpaceInViewport-mountHeight;if(side==="top"&&topSpaceInViewport>bottomSpace&&targetHeight<topSpaceInViewport||side==="bottom"&&(bottomSpace>topSpaceInViewport||targetHeight>topSpaceInViewport)){return opposites[side]}}if(side==="left"&&collisions.right<0||side==="right"&&collisions.left>0){var rightSpace=window.innerWidth-mountPos.left-mountWidth;var leftSpace=mountPos.left;if(side==="left"&&leftSpace>rightSpace||side==="right"&&rightSpace>leftSpace){return opposites[side]}}return false},getPositionRelativeToViewport:function(top,left,width,height,$window){var bottom=top+height;var right=left+width;var viewportTop=$window.scrollTop();var viewportHeight=$window.height();var viewportBottom=viewportTop+viewportHeight;var viewportLeft=$window.scrollLeft();var viewportWidth=$window.width();var viewportRight=viewportLeft+viewportWidth;var margin=this.options.viewportMargin;return{top:viewportTop-top+margin,right:viewportRight-right-margin,bottom:viewportBottom-bottom-margin,left:viewportLeft-left+margin}},toggle:function(){if(this.isActive){this.deactivate()}else{this.activate()}},activate:function(){if(!this.hasDeterminedFixedPosition){this.currentTopPosition=this.$trigger.offset().top-$(window).scrollTop()}this.isActive=true;this.$elem.addClass(this.options.readyClass);this.setPosition();this.$elem.removeClass(this.options.inactiveClass).addClass(this.options.activeClass);this.$trigger.addClass(this.options.activeClass);this.bindDocumentClickHandler();if(!this.hasDeterminedFixedPosition||this.isTriggerFixed){this.bindScrollEvent()}},deactivate:function(){this.isActive=false;this.$elem.removeClass(this.options.activeClass).addClass(this.options.inactiveClass);this.$trigger.removeClass(this.options.activeClass);setTimeout(function(){this.$elem.removeClass(this.options.readyClass)}.bind(this),130);this.removeDocumentClickHandler();if(this.isTriggerFixed){this.removeScrollHandler()}},bindDocumentClickHandler:function(){$(document).on(this.clickEvent,function(e){var evt=e.target||e.srcElement;var $target=$(evt);if(!$target.closest(this.$trigger).length&&!$target.closest(this.$elem).length){this.deactivate()}}.bind(this))},removeDocumentClickHandler:function(){$(document).off(this.clickEvent)},bindScrollEvent:function(){var $window=$(window);$window.on(this.scrollEvent,function(){if(!this.hasDeterminedFixedPosition){var top=this.$trigger.offset().top-$window.scrollTop();this.isTriggerFixed=this.currentTopPosition===top;this.hasDeterminedFixedPosition=true}if(this.isTriggerFixed){this.resetStyle=false;this.setPosition()}else{this.removeScrollHandler()}}.bind(this))},removeScrollHandler:function(){$(window).off(this.scrollEvent)},addArrow:function(){var d=document;var df=d.createDocumentFragment();var elem=this.$elem[0];var arrow=d.createElement("div");arrow.classList.add(this.options.arrowClass);var innerArrow=d.createElement("div");innerArrow.classList.add(this.options.innerArrowClass);df.appendChild(arrow).appendChild(innerArrow);elem.appendChild(df)},removeClassesHavingPrefix:function($elem,prefix){$elem.removeClass(function(idx,className){var re=new RegExp("(^|\\s)"+prefix+"\\S+","g");return(className.match(re)||[]).join(" ")})},_popoverRegistry:popoverRegistry};return Popover});define("libra/libra-bundle",["libra/core/libra-require","librastandardlib/test-helpers/browser-globals/document","librastandardlib/test-helpers/browser-globals/window","librastandardlib/dom-utils/breakpoint-helper","librastandardlib/dom-utils/isInViewport","librastandardlib/event-utils/debounceWindowEvent","libra/dom-utils/transition","libra/dom-utils/lazy-load","libra/dom-utils/smoothScrollToElem","libra/dom-utils/smoothScroller","libra/components/page-init","libra/components/tracking-pixel","libra/components/google-rlsa-pixel","libra/components/transition-wrapper","libra/navigation/navigation","libra/v1-polyfills/polyfills","libraui/components/dropdown","libraui/components/popover"],function(LibraRequire){"use strict";LibraRequire.init()})})();